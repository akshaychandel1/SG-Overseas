{"ast":null,"code":"import _objectSpread from\"C:/Users/Rinku Sheoran/Downloads/g1/Grocerryadminfrontend-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./DescriptionManager.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=\"https://grocerrybackend.onrender.com/api/descriptions\";export default function DescriptionManager(){const[items,setItems]=useState([]);const[form,setForm]=useState({title:\"\",description:\"\"});const[editId,setEditId]=useState(null);const[showForm,setShowForm]=useState(false);// Modal\nconst[isModalOpen,setModalOpen]=useState(false);const[modalData,setModalData]=useState({title:\"\",description:\"\",id:null});// Load all\nconst fetchItems=async()=>{const res=await axios.get(API);setItems(res.data.data);};useEffect(()=>{fetchItems();},[]);// Input change\nconst handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};// Create / Update\nconst handleSubmit=async e=>{e.preventDefault();if(!form.title)return alert(\"Enter title!\");if(editId){await axios.put(\"\".concat(API,\"/\").concat(editId),form);alert(\"Updated!\");}else{await axios.post(API,form);alert(\"Created!\");}setForm({title:\"\",description:\"\"});setEditId(null);fetchItems();};// Delete\nconst handleDelete=async id=>{if(!window.confirm(\"Delete item?\"))return;await axios.delete(\"\".concat(API,\"/\").concat(id));fetchItems();};// Modal open\nconst openModal=item=>{setModalData({title:item.title,description:item.description,id:item._id});setModalOpen(true);};// Modal save\nconst saveModal=async()=>{await axios.put(\"\".concat(API,\"/\").concat(modalData.id),{title:modalData.title,description:modalData.description});setModalOpen(false);fetchItems();};return/*#__PURE__*/_jsxs(\"div\",{className:\"desc-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"desc-header-row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Description Manager\"}),/*#__PURE__*/_jsx(\"button\",{className:\"desc-add-btn\",onClick:()=>setShowForm(!showForm),children:showForm?\"Close Form\":\"Add Description\"})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{className:\"desc-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Title\",value:form.title,onChange:handleChange,className:\"desc-input\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description\",value:form.description,onChange:handleChange,className:\"desc-textarea\"}),/*#__PURE__*/_jsx(\"button\",{className:\"desc-save-btn\",children:editId?\"Update\":\"Save\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"desc-list\",children:items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"desc-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"desc-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"desc-edit-btn\",onClick:()=>openModal(item),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"desc-delete-btn\",onClick:()=>handleDelete(item._id),children:\"Delete\"})]})]},item._id))}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"desc-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"desc-modal\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"desc-input\",value:modalData.title,onChange:e=>setModalData(_objectSpread(_objectSpread({},modalData),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{className:\"desc-textarea\",value:modalData.description,onChange:e=>setModalData(_objectSpread(_objectSpread({},modalData),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"desc-save-btn\",onClick:saveModal,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"desc-cancel-btn\",onClick:()=>setModalOpen(false),children:\"Cancel\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","API","DescriptionManager","items","setItems","form","setForm","title","description","editId","setEditId","showForm","setShowForm","isModalOpen","setModalOpen","modalData","setModalData","id","fetchItems","res","get","data","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","alert","put","concat","post","handleDelete","window","confirm","delete","openModal","item","_id","saveModal","className","children","onClick","onSubmit","type","placeholder","onChange","map"],"sources":["C:/Users/Rinku Sheoran/Downloads/g1/Grocerryadminfrontend-main/src/pages/admin/DescriptionManager.jsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./DescriptionManager.css\";\r\n\r\nconst API = \"https://grocerrybackend.onrender.com/api/descriptions\";\r\n\r\nexport default function DescriptionManager() {\r\n  const [items, setItems] = useState([]);\r\n  const [form, setForm] = useState({ title: \"\", description: \"\" });\r\n  const [editId, setEditId] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  // Modal\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [modalData, setModalData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    id: null,\r\n  });\r\n\r\n  // Load all\r\n  const fetchItems = async () => {\r\n    const res = await axios.get(API);\r\n    setItems(res.data.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n  }, []);\r\n\r\n  // Input change\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Create / Update\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!form.title) return alert(\"Enter title!\");\r\n\r\n    if (editId) {\r\n      await axios.put(`${API}/${editId}`, form);\r\n      alert(\"Updated!\");\r\n    } else {\r\n      await axios.post(API, form);\r\n      alert(\"Created!\");\r\n    }\r\n\r\n    setForm({ title: \"\", description: \"\" });\r\n    setEditId(null);\r\n    fetchItems();\r\n  };\r\n\r\n  // Delete\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Delete item?\")) return;\r\n    await axios.delete(`${API}/${id}`);\r\n    fetchItems();\r\n  };\r\n\r\n  // Modal open\r\n  const openModal = (item) => {\r\n    setModalData({\r\n      title: item.title,\r\n      description: item.description,\r\n      id: item._id,\r\n    });\r\n    setModalOpen(true);\r\n  };\r\n\r\n  // Modal save\r\n  const saveModal = async () => {\r\n    await axios.put(`${API}/${modalData.id}`, {\r\n      title: modalData.title,\r\n      description: modalData.description,\r\n    });\r\n    setModalOpen(false);\r\n    fetchItems();\r\n  };\r\n\r\n  return (\r\n    <div className=\"desc-container\">\r\n      {/* <h2>Description Manager</h2>\r\n\r\n      <button className=\"desc-add-btn\" onClick={() => setShowForm(!showForm)}>\r\n        {showForm ? \"Close Form\" : \"Add Description\"}\r\n      </button> */}\r\n      <div className=\"desc-header-row\">\r\n  <h2>Description Manager</h2>\r\n\r\n  <button className=\"desc-add-btn\"\r\n    onClick={() => setShowForm(!showForm)}\r\n  >\r\n    {showForm ? \"Close Form\" : \"Add Description\"}\r\n  </button>\r\n</div>\r\n\r\n\r\n      {showForm && (\r\n        <form className=\"desc-form\" onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"Title\"\r\n            value={form.title}\r\n            onChange={handleChange}\r\n            className=\"desc-input\"\r\n          />\r\n\r\n          <textarea\r\n            name=\"description\"\r\n            placeholder=\"Description\"\r\n            value={form.description}\r\n            onChange={handleChange}\r\n            className=\"desc-textarea\"\r\n          />\r\n\r\n          <button className=\"desc-save-btn\">\r\n            {editId ? \"Update\" : \"Save\"}\r\n          </button>\r\n        </form>\r\n      )}\r\n\r\n      <div className=\"desc-list\">\r\n        {items.map((item) => (\r\n          <div key={item._id} className=\"desc-card\">\r\n            <h3>{item.title}</h3>\r\n            <p>{item.description}</p>\r\n\r\n            <div className=\"desc-actions\">\r\n              <button\r\n                className=\"desc-edit-btn\"\r\n                onClick={() => openModal(item)}\r\n              >\r\n                Edit\r\n              </button>\r\n\r\n              <button\r\n                className=\"desc-delete-btn\"\r\n                onClick={() => handleDelete(item._id)}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {isModalOpen && (\r\n        <div className=\"desc-modal-overlay\">\r\n          <div className=\"desc-modal\">\r\n            <h3>Edit Description</h3>\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"desc-input\"\r\n              value={modalData.title}\r\n              onChange={(e) =>\r\n                setModalData({ ...modalData, title: e.target.value })\r\n              }\r\n            />\r\n\r\n            <textarea\r\n              className=\"desc-textarea\"\r\n              value={modalData.description}\r\n              onChange={(e) =>\r\n                setModalData({ ...modalData, description: e.target.value })\r\n              }\r\n            />\r\n\r\n            <button className=\"desc-save-btn\" onClick={saveModal}>\r\n              Update\r\n            </button>\r\n\r\n            <button\r\n              className=\"desc-cancel-btn\"\r\n              onClick={() => setModalOpen(false)}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}