{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{Eye,EyeOff,Lock}from\"react-feather\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminUpdatePassword(){const navigate=useNavigate();const[oldPassword,setOldPassword]=useState(\"\");const[newPassword,setNewPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[showOld,setShowOld]=useState(false);const[showNew,setShowNew]=useState(false);const[showConfirm,setShowConfirm]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();setError(\"\");setSuccess(\"\");if(newPassword.length<5){return setError(\"New password must be at least 5 characters\");}if(newPassword!==confirmPassword){return setError(\"New password and confirm password do not match\");}try{setLoading(true);const token=localStorage.getItem(\"token\");await axios.put(\"https://grocerrybackend.onrender.com/api/admin/update-password\",{oldPassword,newPassword},{headers:{Authorization:\"Bearer \".concat(token)}});setSuccess(\"Password updated successfully. Please login again.\");setTimeout(()=>{localStorage.clear();navigate(\"/login\",{replace:true});},2000);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to update password\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.card,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Update Password\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:styles.error,children:error}),success&&/*#__PURE__*/_jsx(\"p\",{style:styles.success,children:success}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputGroup,children:[/*#__PURE__*/_jsx(Lock,{size:16}),/*#__PURE__*/_jsx(\"input\",{type:showOld?\"text\":\"password\",placeholder:\"Current Password\",value:oldPassword,onChange:e=>setOldPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowOld(!showOld),style:styles.eye,children:showOld?/*#__PURE__*/_jsx(EyeOff,{size:16}):/*#__PURE__*/_jsx(Eye,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputGroup,children:[/*#__PURE__*/_jsx(Lock,{size:16}),/*#__PURE__*/_jsx(\"input\",{type:showNew?\"text\":\"password\",placeholder:\"New Password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowNew(!showNew),style:styles.eye,children:showNew?/*#__PURE__*/_jsx(EyeOff,{size:16}):/*#__PURE__*/_jsx(Eye,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputGroup,children:[/*#__PURE__*/_jsx(Lock,{size:16}),/*#__PURE__*/_jsx(\"input\",{type:showConfirm?\"text\":\"password\",placeholder:\"Confirm New Password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowConfirm(!showConfirm),style:styles.eye,children:showConfirm?/*#__PURE__*/_jsx(EyeOff,{size:16}):/*#__PURE__*/_jsx(Eye,{size:16})})]}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,style:styles.button,children:loading?\"Updating...\":\"Update Password\"})]})});}/* ================= STYLES ================= */const styles={container:{minHeight:\"70vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},card:{width:380,background:\"#fff\",padding:24,borderRadius:10,boxShadow:\"0 10px 30px rgba(0,0,0,0.1)\",display:\"flex\",flexDirection:\"column\",gap:14},title:{margin:0,textAlign:\"center\"},inputGroup:{display:\"flex\",alignItems:\"center\",gap:8,border:\"1px solid #e5e7eb\",borderRadius:6,padding:\"8px 10px\"},eye:{cursor:\"pointer\"},button:{marginTop:10,background:\"linear-gradient(135deg, #983a30 0%, #c0392b 100%)\",color:\"#fff\",border:\"none\",padding:\"10px\",borderRadius:6,fontWeight:600,cursor:\"pointer\"},error:{color:\"#ef4444\",fontSize:14,textAlign:\"center\"},success:{color:\"#16a34a\",fontSize:14,textAlign:\"center\"}};","map":{"version":3,"names":["React","useState","axios","Eye","EyeOff","Lock","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminUpdatePassword","navigate","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","showOld","setShowOld","showNew","setShowNew","showConfirm","setShowConfirm","loading","setLoading","error","setError","success","setSuccess","handleSubmit","e","preventDefault","length","token","localStorage","getItem","put","headers","Authorization","concat","setTimeout","clear","replace","err","_err$response","_err$response$data","response","data","message","style","styles","container","children","onSubmit","card","title","inputGroup","size","type","placeholder","value","onChange","target","required","onClick","eye","disabled","button","minHeight","display","justifyContent","alignItems","width","background","padding","borderRadius","boxShadow","flexDirection","gap","margin","textAlign","border","cursor","marginTop","color","fontWeight","fontSize"],"sources":["C:/Users/Rinku Sheoran/Downloads/g1/Grocerryadminfrontend-main/src/pages/admin/AdminUpdatePassword.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Eye, EyeOff, Lock } from \"react-feather\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function AdminUpdatePassword() {\r\n  const navigate = useNavigate();\r\n\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const [showOld, setShowOld] = useState(false);\r\n  const [showNew, setShowNew] = useState(false);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (newPassword.length < 5) {\r\n      return setError(\"New password must be at least 5 characters\");\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      return setError(\"New password and confirm password do not match\");\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      await axios.put(\r\n        \"https://grocerrybackend.onrender.com/api/admin/update-password\",\r\n        {\r\n          oldPassword,\r\n          newPassword,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setSuccess(\"Password updated successfully. Please login again.\");\r\n\r\n      setTimeout(() => {\r\n        localStorage.clear();\r\n        navigate(\"/login\", { replace: true });\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to update password\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <form onSubmit={handleSubmit} style={styles.card}>\r\n        <h2 style={styles.title}>Update Password</h2>\r\n\r\n        {error && <p style={styles.error}>{error}</p>}\r\n        {success && <p style={styles.success}>{success}</p>}\r\n\r\n        {/* OLD PASSWORD */}\r\n        <div style={styles.inputGroup}>\r\n          <Lock size={16} />\r\n          <input\r\n            type={showOld ? \"text\" : \"password\"}\r\n            placeholder=\"Current Password\"\r\n            value={oldPassword}\r\n            onChange={(e) => setOldPassword(e.target.value)}\r\n            required\r\n          />\r\n          <span onClick={() => setShowOld(!showOld)} style={styles.eye}>\r\n            {showOld ? <EyeOff size={16} /> : <Eye size={16} />}\r\n          </span>\r\n        </div>\r\n\r\n        {/* NEW PASSWORD */}\r\n        <div style={styles.inputGroup}>\r\n          <Lock size={16} />\r\n          <input\r\n            type={showNew ? \"text\" : \"password\"}\r\n            placeholder=\"New Password\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n            required\r\n          />\r\n          <span onClick={() => setShowNew(!showNew)} style={styles.eye}>\r\n            {showNew ? <EyeOff size={16} /> : <Eye size={16} />}\r\n          </span>\r\n        </div>\r\n\r\n        {/* CONFIRM PASSWORD */}\r\n        <div style={styles.inputGroup}>\r\n          <Lock size={16} />\r\n          <input\r\n            type={showConfirm ? \"text\" : \"password\"}\r\n            placeholder=\"Confirm New Password\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n            required\r\n          />\r\n          <span onClick={() => setShowConfirm(!showConfirm)} style={styles.eye}>\r\n            {showConfirm ? <EyeOff size={16} /> : <Eye size={16} />}\r\n          </span>\r\n        </div>\r\n\r\n        <button disabled={loading} style={styles.button}>\r\n          {loading ? \"Updating...\" : \"Update Password\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ================= STYLES ================= */\r\n\r\nconst styles = {\r\n  container: {\r\n    minHeight: \"70vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  card: {\r\n    width: 380,\r\n    background: \"#fff\",\r\n    padding: 24,\r\n    borderRadius: 10,\r\n    boxShadow: \"0 10px 30px rgba(0,0,0,0.1)\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: 14,\r\n  },\r\n  title: {\r\n    margin: 0,\r\n    textAlign: \"center\",\r\n  },\r\n  inputGroup: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 8,\r\n    border: \"1px solid #e5e7eb\",\r\n    borderRadius: 6,\r\n    padding: \"8px 10px\",\r\n  },\r\n  eye: {\r\n    cursor: \"pointer\",\r\n  },\r\n  button: {\r\n    marginTop: 10,\r\n    background: \"linear-gradient(135deg, #983a30 0%, #c0392b 100%)\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    padding: \"10px\",\r\n    borderRadius: 6,\r\n    fontWeight: 600,\r\n    cursor: \"pointer\",\r\n  },\r\n  error: {\r\n    color: \"#ef4444\",\r\n    fontSize: 14,\r\n    textAlign: \"center\",\r\n  },\r\n  success: {\r\n    color: \"#16a34a\",\r\n    fontSize: 14,\r\n    textAlign: \"center\",\r\n  },\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}