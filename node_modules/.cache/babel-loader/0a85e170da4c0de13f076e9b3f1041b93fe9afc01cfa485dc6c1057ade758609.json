{"ast":null,"code":"\n// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import \"./Users.css\";\n\n// const API = \"https://grocerrybackend.onrender.com/api/user\";\n\n// export default function Users() {\n//   const [users, setUsers] = useState([]);\n//   const [loading, setLoading] = useState(false);\n\n//   const [form, setForm] = useState({\n//     name: \"\",\n//     email: \"\",\n//     password: \"\",\n//     role: \"user\",\n//   });\n\n//   const [editId, setEditId] = useState(null);\n//   const [openMenu, setOpenMenu] = useState(null); // 3 dots dropdown\n\n//   const fetchUsers = () => {\n//     setLoading(true);\n//     axios\n//       .get(API)\n//       .then((res) => setUsers(res.data))\n//       .catch((err) => console.error(err))\n//       .finally(() => setLoading(false));\n//   };\n\n//   useEffect(() => {\n//     fetchUsers();\n//   }, []);\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       if (editId) {\n//         await axios.put(`${API}/${editId}`, form);\n//         alert(\"User updated\");\n//       } else {\n//         await axios.post(API, form);\n//         alert(\"User created\");\n//       }\n\n//       setForm({ name: \"\", email: \"\", password: \"\", role: \"user\" });\n//       setEditId(null);\n//       fetchUsers();\n//     } catch (err) {\n//       alert(\"Save failed\");\n//     }\n//   };\n\n//   const handleEdit = (usr) => {\n//     setForm({\n//       name: usr.name,\n//       email: usr.email,\n//       password: \"\",\n//       role: usr.role,\n//     });\n//     setEditId(usr._id);\n//     setOpenMenu(null);\n//     window.scrollTo({ top: 0, behavior: \"smooth\" });\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete user?\")) return;\n\n//     try {\n//       await axios.delete(`${API}/${id}`);\n//       setOpenMenu(null);\n//       fetchUsers();\n//     } catch {\n//       alert(\"Delete failed\");\n//     }\n//   };\n\n//   return (\n//     <div className=\"users-container\">\n//       <div className=\"users-header\">\n//         <h2> User Management</h2>\n\n//       </div>\n// <br/>\n// <br/>\n//       {/* Form */}\n//       {/* <form className=\"user-form\" onSubmit={handleSubmit}>\n//         <input\n//           type=\"text\"\n//           placeholder=\"Name\"\n//           value={form.name}\n//           onChange={(e) => setForm({ ...form, name: e.target.value })}\n//         />\n\n//         <input\n//           type=\"email\"\n//           placeholder=\"Email\"\n//           value={form.email}\n//           onChange={(e) => setForm({ ...form, email: e.target.value })}\n//         />\n\n//         <input\n//           type=\"text\"\n//           placeholder=\"Password (encrypted)\"\n//           value={form.password}\n//           onChange={(e) => setForm({ ...form, password: e.target.value })}\n//         />\n\n//         <select\n//           value={form.role}\n//           onChange={(e) => setForm({ ...form, role: e.target.value })}\n//         >\n//           <option value=\"user\">User</option>\n//           <option value=\"admin\">Admin</option>\n//         </select>\n\n//         <button type=\"submit\">{editId ? \"Update User\" : \"Add User\"}</button>\n\n//         {editId && (\n//           <button\n//             type=\"button\"\n//             className=\"cancel-btn\"\n//             onClick={() => {\n//               setEditId(null);\n//               setForm({ name: \"\", email: \"\", password: \"\", role: \"user\" });\n//             }}\n//           >\n//             Cancel\n//           </button>\n//         )}\n//       </form> */}\n\n//       {/* TABLE WITH SCROLL */}\n//       {!loading && (\n//         <div className=\"table-wrapper\">\n//           <table className=\"users-table\">\n//             <thead>\n//               <tr>\n//                 <th>#</th>\n//                 <th>Name</th>\n//                 <th>Email</th>\n//                 <th>Password</th>\n//                 <th>Role</th>\n//                 {/* <th>Actions</th> */}\n//               </tr>\n//             </thead>\n\n//             <tbody>\n//               {users.map((u, i) => (\n//                 <tr key={u._id}>\n//                   <td>{i + 1}</td>\n//                   <td>{u.name}</td>\n//                   <td>{u.email}</td>\n\n//                   <td className=\"password-col\">{u.password}</td>\n\n//                   <td>\n//                     <span className={`role-badge ${u.role}`}>{u.role}</span>\n//                   </td>\n\n//                   {/* 3 DOTS MENU */}\n//                   {/* <td className=\"action-cell\">\n//                     <div className=\"action-menu\">\n//                       <button\n//                         className=\"dots-btn\"\n//                         onClick={() =>\n//                           setOpenMenu(openMenu === u._id ? null : u._id)\n//                         }\n//                       >\n//                         ⋮\n//                       </button>\n\n//                       {openMenu === u._id && (\n//                         <div className=\"dropdown-menu\">\n//                           <button onClick={() => handleEdit(u)}>Edit</button>\n//                           <button onClick={() => handleDelete(u._id)}>\n//                             Delete\n//                           </button>\n//                         </div>\n//                       )}\n//                     </div>\n//                   </td> */}\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n//       )}\n\n//       {loading && <div className=\"loader\">Loading users...</div>}\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/Rinku Sheoran/Downloads/g1/Grocerryadminfrontend-main/src/pages/admin/Users.jsx"],"sourcesContent":["\r\n// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import \"./Users.css\";\r\n\r\n// const API = \"https://grocerrybackend.onrender.com/api/user\";\r\n\r\n// export default function Users() {\r\n//   const [users, setUsers] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const [form, setForm] = useState({\r\n//     name: \"\",\r\n//     email: \"\",\r\n//     password: \"\",\r\n//     role: \"user\",\r\n//   });\r\n\r\n//   const [editId, setEditId] = useState(null);\r\n//   const [openMenu, setOpenMenu] = useState(null); // 3 dots dropdown\r\n\r\n//   const fetchUsers = () => {\r\n//     setLoading(true);\r\n//     axios\r\n//       .get(API)\r\n//       .then((res) => setUsers(res.data))\r\n//       .catch((err) => console.error(err))\r\n//       .finally(() => setLoading(false));\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchUsers();\r\n//   }, []);\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     try {\r\n//       if (editId) {\r\n//         await axios.put(`${API}/${editId}`, form);\r\n//         alert(\"User updated\");\r\n//       } else {\r\n//         await axios.post(API, form);\r\n//         alert(\"User created\");\r\n//       }\r\n\r\n//       setForm({ name: \"\", email: \"\", password: \"\", role: \"user\" });\r\n//       setEditId(null);\r\n//       fetchUsers();\r\n//     } catch (err) {\r\n//       alert(\"Save failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleEdit = (usr) => {\r\n//     setForm({\r\n//       name: usr.name,\r\n//       email: usr.email,\r\n//       password: \"\",\r\n//       role: usr.role,\r\n//     });\r\n//     setEditId(usr._id);\r\n//     setOpenMenu(null);\r\n//     window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n//   };\r\n\r\n//   const handleDelete = async (id) => {\r\n//     if (!window.confirm(\"Delete user?\")) return;\r\n\r\n//     try {\r\n//       await axios.delete(`${API}/${id}`);\r\n//       setOpenMenu(null);\r\n//       fetchUsers();\r\n//     } catch {\r\n//       alert(\"Delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"users-container\">\r\n//       <div className=\"users-header\">\r\n//         <h2> User Management</h2>\r\n        \r\n        \r\n//       </div>\r\n// <br/>\r\n// <br/>\r\n//       {/* Form */}\r\n//       {/* <form className=\"user-form\" onSubmit={handleSubmit}>\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Name\"\r\n//           value={form.name}\r\n//           onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n//         />\r\n\r\n//         <input\r\n//           type=\"email\"\r\n//           placeholder=\"Email\"\r\n//           value={form.email}\r\n//           onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n//         />\r\n\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Password (encrypted)\"\r\n//           value={form.password}\r\n//           onChange={(e) => setForm({ ...form, password: e.target.value })}\r\n//         />\r\n\r\n//         <select\r\n//           value={form.role}\r\n//           onChange={(e) => setForm({ ...form, role: e.target.value })}\r\n//         >\r\n//           <option value=\"user\">User</option>\r\n//           <option value=\"admin\">Admin</option>\r\n//         </select>\r\n\r\n//         <button type=\"submit\">{editId ? \"Update User\" : \"Add User\"}</button>\r\n\r\n//         {editId && (\r\n//           <button\r\n//             type=\"button\"\r\n//             className=\"cancel-btn\"\r\n//             onClick={() => {\r\n//               setEditId(null);\r\n//               setForm({ name: \"\", email: \"\", password: \"\", role: \"user\" });\r\n//             }}\r\n//           >\r\n//             Cancel\r\n//           </button>\r\n//         )}\r\n//       </form> */}\r\n\r\n//       {/* TABLE WITH SCROLL */}\r\n//       {!loading && (\r\n//         <div className=\"table-wrapper\">\r\n//           <table className=\"users-table\">\r\n//             <thead>\r\n//               <tr>\r\n//                 <th>#</th>\r\n//                 <th>Name</th>\r\n//                 <th>Email</th>\r\n//                 <th>Password</th>\r\n//                 <th>Role</th>\r\n//                 {/* <th>Actions</th> */}\r\n//               </tr>\r\n//             </thead>\r\n\r\n//             <tbody>\r\n//               {users.map((u, i) => (\r\n//                 <tr key={u._id}>\r\n//                   <td>{i + 1}</td>\r\n//                   <td>{u.name}</td>\r\n//                   <td>{u.email}</td>\r\n\r\n//                   <td className=\"password-col\">{u.password}</td>\r\n\r\n//                   <td>\r\n//                     <span className={`role-badge ${u.role}`}>{u.role}</span>\r\n//                   </td>\r\n\r\n//                   {/* 3 DOTS MENU */}\r\n//                   {/* <td className=\"action-cell\">\r\n//                     <div className=\"action-menu\">\r\n//                       <button\r\n//                         className=\"dots-btn\"\r\n//                         onClick={() =>\r\n//                           setOpenMenu(openMenu === u._id ? null : u._id)\r\n//                         }\r\n//                       >\r\n//                         ⋮\r\n//                       </button>\r\n\r\n//                       {openMenu === u._id && (\r\n//                         <div className=\"dropdown-menu\">\r\n//                           <button onClick={() => handleEdit(u)}>Edit</button>\r\n//                           <button onClick={() => handleDelete(u._id)}>\r\n//                             Delete\r\n//                           </button>\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n//                   </td> */}\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n//       )}\r\n\r\n//       {loading && <div className=\"loader\">Loading users...</div>}\r\n//     </div>\r\n//   );\r\n// }\r\n"],"mappings":";AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}