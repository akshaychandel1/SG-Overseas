{"ast":null,"code":"var _jsxFileName = \"/Users/akshaychandel/Desktop/Grocerryadminfrontend-main/src/pages/admin/PriceAnalytics.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import {\n//   Chart as ChartJS,\n//   CategoryScale,\n//   LinearScale,\n//   PointElement,\n//   LineElement,\n//   Tooltip,\n//   Legend,\n// } from \"chart.js\";\n// import ChartDataLabels from \"chartjs-plugin-datalabels\";\n// import { Line } from \"react-chartjs-2\";\n// import \"./PriceAnalytics.css\";\n\n// ChartJS.register(\n//   CategoryScale,\n//   LinearScale,\n//   PointElement,\n//   LineElement,\n//   Tooltip,\n//   Legend,\n//   ChartDataLabels\n// );\n\n// const API_BASE = \"https://grocerrybackend.onrender.com/api\";\n\n// export default function PriceAnalytics() {\n//   const [loading, setLoading] = useState(true);\n//   const [productList, setProductList] = useState([]);\n//   const [categoryList, setCategoryList] = useState([]);\n//   const [selectedProduct, setSelectedProduct] = useState(\"\");\n//   const [selectedCategory, setSelectedCategory] = useState(\"\");\n//   const [chartData, setChartData] = useState(null);\n\n//   /* ================= LOAD DROPDOWNS ================= */\n//   useEffect(() => {\n//     Promise.all([\n//       axios.get(`${API_BASE}/prices`),\n//       axios.get(`${API_BASE}/categories`),\n//     ]).then(([priceRes, catRes]) => {\n//       // ðŸ”¥ Extract ONLY PRODUCTS from nested structure\n//       const products = [];\n\n//       // priceRes.data.data.forEach(category => {\n//       //   category.subcategories.forEach(sub => {\n//       //     sub.products.forEach(prod => {\n//       //       products.push(prod);\n//       //     });\n//       //   });\n//       // });\n//       priceRes.data.data.forEach(category => {\n//         category.subcategories.forEach(sub => {\n//           sub.products.forEach(prod => {\n//             products.push({\n//               ...prod,\n//               categoryName: category.name   // ðŸ”¥ attach category\n//             });\n//           });\n//         });\n//       });\n//       setProductList(products);\n//       setCategoryList(catRes.data.categories || []);\n//     });\n//   }, []);\n\n//   //     setLoading(true);\n\n//   //     try {\n//   //       const res = await axios.get(`${API_BASE}/prices`);\n\n//   //       let data = [];\n\n//   //       // ðŸ”¥ Flatten Category â†’ Sub â†’ Products\n//   //       // res.data.data.forEach(category => {\n//   //       //   category.subcategories.forEach(sub => {\n//   //       //     sub.products.forEach(prod => {\n//   //       //       data.push(prod);\n//   //       //     });\n//   //       //   });\n//   //       // });\n\n//   //       priceRes.data.data.forEach(category => {\n//   //   category.subcategories.forEach(sub => {\n//   //     sub.products.forEach(prod => {\n//   //       products.push({\n//   //         ...prod,\n//   //         categoryName: category.name   // ðŸ”¥ attach category\n//   //       });\n//   //     });\n//   //   });\n//   // });\n\n//   //       // ðŸ”¥ Filters\n//   //       if (selectedProduct) {\n//   //         data = data.filter(p => p.name === selectedProduct);\n//   //       }\n\n//   //       // if (selectedCategory) {\n//   //       //   data = data.filter(p => p.category?.name === selectedCategory);\n//   //       // }\n\n//   //       // ðŸ”¥ Sort by time\n//   //       data.sort(\n//   //         (a, b) =>\n//   //           new Date(a.createdAt || a.validTill) -\n//   //           new Date(b.createdAt || b.validTill)\n//   //       );\n\n//   //       const labels = data.map(item =>\n//   //         new Date(item.createdAt || item.validTill).toLocaleString(\"en-IN\")\n//   //       );\n\n//   //       const prices = data.map(item => {\n//   //         const base = Number(item.basePrice) || 0;\n//   //         const diff = Number(item.difference) || 0;\n//   //         return base + diff;\n//   //       });\n\n//   //       // Single point fix\n//   //       if (labels.length === 1) {\n//   //         labels.unshift(\"Earlier\");\n//   //         prices.unshift(prices[0]);\n//   //       }\n\n//   //       setChartData({\n//   //         labels,\n//   //         datasets: [\n//   //           {\n//   //             label: \"Final Price (â‚¹)\",\n//   //             data: prices,\n//   //             borderColor: \"#dc3545\",\n//   //             backgroundColor: \"rgba(220,53,69,0.15)\",\n//   //             tension: 0,\n//   //             fill: true,\n//   //             pointRadius: 5,\n//   //             pointHoverRadius: 7,\n//   //           },\n//   //         ],\n//   //       });\n\n//   //     } catch (err) {\n//   //       console.error(\"Chart error:\", err);\n//   //     } finally {\n//   //       setLoading(false);\n//   //     }\n//   //   };\n//   const fetchChart = async () => {\n//     setLoading(true);\n\n//     try {\n//       const res = await axios.get(`${API_BASE}/prices`);\n\n//       let data = [];\n\n//       // âœ… Proper flatten with category name\n//       res.data.data.forEach(category => {\n//         category.subcategories.forEach(sub => {\n//           sub.products.forEach(prod => {\n//             data.push({\n//               ...prod,\n//               categoryName: category.name   // ðŸ”¥ important\n//             });\n//           });\n//         });\n//       });\n\n//       // âœ… Product filter\n//       if (selectedProduct) {\n//         data = data.filter(p => p.name === selectedProduct);\n//       }\n\n//       // âœ… Category filter\n//       if (selectedCategory) {\n//         data = data.filter(p => p.categoryName === selectedCategory);\n//       }\n\n//       // â— If nothing found, clear chart\n//       if (data.length === 0) {\n//         setChartData(null);\n//         setLoading(false);\n//         return;\n//       }\n\n//       // âœ… Sort by time\n//       data.sort(\n//         (a, b) =>\n//           new Date(a.createdAt || a.validTill) -\n//           new Date(b.createdAt || b.validTill)\n//       );\n\n//       const labels = data.map(item =>\n//         new Date(item.createdAt || item.validTill).toLocaleString(\"en-IN\")\n//       );\n\n//       const prices = data.map(item => {\n//         const base = Number(item.basePrice) || 0;\n//         const diff = Number(item.difference) || 0;\n//         return base + diff;\n//       });\n\n//       // Single point zigzag fix\n//       if (labels.length === 1) {\n//         labels.unshift(\"Earlier\");\n//         prices.unshift(prices[0]);\n//       }\n\n//       setChartData({\n//         labels,\n//         datasets: [\n//           {\n//             label: \"Final Price (â‚¹)\",\n//             data: prices,\n//             borderColor: \"#dc3545\",\n//             backgroundColor: \"rgba(220,53,69,0.15)\",\n//             tension: 0,\n//             fill: true,\n//             pointRadius: 5,\n//             pointHoverRadius: 7,\n//           },\n//         ],\n//       });\n\n//     } catch (err) {\n//       console.error(\"Chart error:\", err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchChart();\n//   }, [selectedProduct, selectedCategory]);\n\n//   /* ================= UI ================= */\n//   return (\n//     <div className=\"analytics-container\">\n//       <h2 className=\"analytics-title\">Price Analytics (Zig-Zag)</h2>\n\n//       <div className=\"filter-section\">\n//         <select value={selectedProduct} onChange={e => setSelectedProduct(e.target.value)}>\n//           <option value=\"\">All Products</option>\n//           {productList.map(p => (\n//             <option key={p._id} value={p.name}>{p.name}</option>\n//           ))}\n//         </select>\n\n//         <select value={selectedCategory} onChange={e => setSelectedCategory(e.target.value)}>\n//           <option value=\"\">All Categories</option>\n//           {categoryList.map(c => (\n//             <option key={c._id} value={c.name}>{c.name}</option>\n//           ))}\n//         </select>\n//       </div>\n\n//       <div className=\"chart-wrapper\">\n//         {loading ? (\n//           <div className=\"loading\">Loading...</div>\n//         ) : chartData ? (\n//           <Line\n//             data={chartData}\n//             options={{\n//               responsive: true,\n//               maintainAspectRatio: false,\n//               scales: {\n//                 y: { beginAtZero: false },\n//               },\n//               plugins: {\n//                 legend: { position: \"bottom\" },\n//                 datalabels: {\n//                   display: true,\n//                   align: \"top\",\n//                   formatter: v => `â‚¹${v}`,\n//                   font: { weight: \"bold\" },\n//                 },\n//               },\n//             }}\n//           />\n//         ) : (\n//           <div className=\"no-data\">No data available</div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Filler // ðŸ”¥ For the area background gradient\n} from \"chart.js\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\nimport { Line } from \"react-chartjs-2\";\nimport \"./PriceAnalytics.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Filler, ChartDataLabels);\nconst API_BASE = \"https://grocerrybackend.onrender.com/api\";\nexport default function PriceAnalytics() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [productList, setProductList] = useState([]);\n  const [categoryList, setCategoryList] = useState([]);\n  const [selectedProduct, setSelectedProduct] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [chartData, setChartData] = useState(null);\n\n  /* ================= LOAD DROPDOWNS (Same Logic) ================= */\n  useEffect(() => {\n    Promise.all([axios.get(`${API_BASE}/prices`), axios.get(`${API_BASE}/categories`)]).then(([priceRes, catRes]) => {\n      const products = [];\n      priceRes.data.data.forEach(category => {\n        category.subcategories.forEach(sub => {\n          sub.products.forEach(prod => {\n            products.push({\n              ...prod,\n              categoryName: category.name\n            });\n          });\n        });\n      });\n      setProductList(products);\n      setCategoryList(catRes.data.categories || []);\n    });\n  }, []);\n  const fetchChart = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`${API_BASE}/prices`);\n      let data = [];\n      res.data.data.forEach(category => {\n        category.subcategories.forEach(sub => {\n          sub.products.forEach(prod => {\n            data.push({\n              ...prod,\n              categoryName: category.name\n            });\n          });\n        });\n      });\n      if (selectedProduct) data = data.filter(p => p.name === selectedProduct);\n      if (selectedCategory) data = data.filter(p => p.categoryName === selectedCategory);\n      if (data.length === 0) {\n        setChartData(null);\n        setLoading(false);\n        return;\n      }\n      data.sort((a, b) => new Date(a.createdAt || a.validTill) - new Date(b.createdAt || b.validTill));\n      const labels = data.map(item => new Date(item.createdAt || item.validTill).toLocaleDateString(\"en-IN\", {\n        month: 'short',\n        day: 'numeric'\n      }));\n      const prices = data.map(item => (Number(item.basePrice) || 0) + (Number(item.difference) || 0));\n      if (labels.length === 1) {\n        labels.unshift(\"Earlier\");\n        prices.unshift(prices[0]);\n      }\n\n      // ðŸ”¥ TailAdmin Blue Gradient Theme\n      setChartData({\n        labels,\n        datasets: [{\n          label: \"Price\",\n          data: prices,\n          borderColor: \"#3C50E0\",\n          // Blue color like TailAdmin\n          backgroundColor: context => {\n            const ctx = context.chart.ctx;\n            const gradient = ctx.createLinearGradient(0, 0, 0, 400);\n            gradient.addColorStop(0, \"rgba(60, 80, 224, 0.2)\");\n            gradient.addColorStop(1, \"rgba(60, 80, 224, 0)\");\n            return gradient;\n          },\n          tension: 0.4,\n          // Smooth curve like screenshot 3\n          fill: true,\n          pointBackgroundColor: \"#fff\",\n          pointBorderColor: \"#3C50E0\",\n          pointBorderWidth: 2,\n          pointRadius: 4,\n          pointHoverRadius: 6\n        }]\n      });\n    } catch (err) {\n      console.error(\"Chart error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchChart();\n  }, [selectedProduct, selectedCategory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tm-analytics-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tm-card-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tm-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"tm-card-title\",\n          children: \"Price Analytics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"tm-card-subtitle\",\n          children: \"Jun 1, 2024 - Dec 1, 2025\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tm-filter-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tm-select-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedProduct,\n            onChange: e => setSelectedProduct(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), productList.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.name,\n              children: p.name\n            }, p._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tm-select-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this), categoryList.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c.name,\n              children: c.name\n            }, c._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tm-chart-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tm-loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Loading Analytics...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this) : chartData ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tm-canvas-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: chartData,\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            scales: {\n              y: {\n                beginAtZero: false,\n                grid: {\n                  color: \"#F1F5F9\",\n                  drawBorder: false\n                },\n                ticks: {\n                  color: \"#64748B\",\n                  font: {\n                    size: 12\n                  }\n                }\n              },\n              x: {\n                grid: {\n                  display: false\n                },\n                ticks: {\n                  color: \"#64748B\",\n                  font: {\n                    size: 12\n                  }\n                }\n              }\n            },\n            plugins: {\n              legend: {\n                display: false\n              },\n              // Hide legend to match screenshot\n              datalabels: {\n                display: true,\n                align: \"top\",\n                color: \"#3C50E0\",\n                formatter: v => `â‚¹${v}`,\n                font: {\n                  weight: \"600\",\n                  size: 11\n                }\n              },\n              tooltip: {\n                backgroundColor: \"#1C2434\",\n                padding: 12,\n                titleFont: {\n                  size: 14\n                },\n                bodyFont: {\n                  size: 14\n                },\n                displayColors: false\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tm-no-data\",\n        children: \"No price history found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 432,\n    columnNumber: 5\n  }, this);\n}\n_s(PriceAnalytics, \"V9jNglEGL7W4GyrScTkxDdVcf98=\");\n_c = PriceAnalytics;\nvar _c;\n$RefreshReg$(_c, \"PriceAnalytics\");","map":{"version":3,"names":["React","useEffect","useState","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Legend","Filler","ChartDataLabels","Line","jsxDEV","_jsxDEV","register","API_BASE","PriceAnalytics","_s","loading","setLoading","productList","setProductList","categoryList","setCategoryList","selectedProduct","setSelectedProduct","selectedCategory","setSelectedCategory","chartData","setChartData","Promise","all","get","then","priceRes","catRes","products","data","forEach","category","subcategories","sub","prod","push","categoryName","name","categories","fetchChart","res","filter","p","length","sort","a","b","Date","createdAt","validTill","labels","map","item","toLocaleDateString","month","day","prices","Number","basePrice","difference","unshift","datasets","label","borderColor","backgroundColor","context","ctx","chart","gradient","createLinearGradient","addColorStop","tension","fill","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","pointHoverRadius","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","_id","c","options","responsive","maintainAspectRatio","scales","y","beginAtZero","grid","color","drawBorder","ticks","font","size","x","display","plugins","legend","datalabels","align","formatter","v","weight","tooltip","padding","titleFont","bodyFont","displayColors","_c","$RefreshReg$"],"sources":["/Users/akshaychandel/Desktop/Grocerryadminfrontend-main/src/pages/admin/PriceAnalytics.jsx"],"sourcesContent":["\r\n// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import {\r\n//   Chart as ChartJS,\r\n//   CategoryScale,\r\n//   LinearScale,\r\n//   PointElement,\r\n//   LineElement,\r\n//   Tooltip,\r\n//   Legend,\r\n// } from \"chart.js\";\r\n// import ChartDataLabels from \"chartjs-plugin-datalabels\";\r\n// import { Line } from \"react-chartjs-2\";\r\n// import \"./PriceAnalytics.css\";\r\n\r\n// ChartJS.register(\r\n//   CategoryScale,\r\n//   LinearScale,\r\n//   PointElement,\r\n//   LineElement,\r\n//   Tooltip,\r\n//   Legend,\r\n//   ChartDataLabels\r\n// );\r\n\r\n// const API_BASE = \"https://grocerrybackend.onrender.com/api\";\r\n\r\n// export default function PriceAnalytics() {\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [productList, setProductList] = useState([]);\r\n//   const [categoryList, setCategoryList] = useState([]);\r\n//   const [selectedProduct, setSelectedProduct] = useState(\"\");\r\n//   const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n//   const [chartData, setChartData] = useState(null);\r\n\r\n//   /* ================= LOAD DROPDOWNS ================= */\r\n//   useEffect(() => {\r\n//     Promise.all([\r\n//       axios.get(`${API_BASE}/prices`),\r\n//       axios.get(`${API_BASE}/categories`),\r\n//     ]).then(([priceRes, catRes]) => {\r\n//       // ðŸ”¥ Extract ONLY PRODUCTS from nested structure\r\n//       const products = [];\r\n\r\n//       // priceRes.data.data.forEach(category => {\r\n//       //   category.subcategories.forEach(sub => {\r\n//       //     sub.products.forEach(prod => {\r\n//       //       products.push(prod);\r\n//       //     });\r\n//       //   });\r\n//       // });\r\n//       priceRes.data.data.forEach(category => {\r\n//         category.subcategories.forEach(sub => {\r\n//           sub.products.forEach(prod => {\r\n//             products.push({\r\n//               ...prod,\r\n//               categoryName: category.name   // ðŸ”¥ attach category\r\n//             });\r\n//           });\r\n//         });\r\n//       });\r\n//       setProductList(products);\r\n//       setCategoryList(catRes.data.categories || []);\r\n//     });\r\n//   }, []);\r\n\r\n//   //     setLoading(true);\r\n\r\n//   //     try {\r\n//   //       const res = await axios.get(`${API_BASE}/prices`);\r\n\r\n//   //       let data = [];\r\n\r\n//   //       // ðŸ”¥ Flatten Category â†’ Sub â†’ Products\r\n//   //       // res.data.data.forEach(category => {\r\n//   //       //   category.subcategories.forEach(sub => {\r\n//   //       //     sub.products.forEach(prod => {\r\n//   //       //       data.push(prod);\r\n//   //       //     });\r\n//   //       //   });\r\n//   //       // });\r\n\r\n//   //       priceRes.data.data.forEach(category => {\r\n//   //   category.subcategories.forEach(sub => {\r\n//   //     sub.products.forEach(prod => {\r\n//   //       products.push({\r\n//   //         ...prod,\r\n//   //         categoryName: category.name   // ðŸ”¥ attach category\r\n//   //       });\r\n//   //     });\r\n//   //   });\r\n//   // });\r\n\r\n//   //       // ðŸ”¥ Filters\r\n//   //       if (selectedProduct) {\r\n//   //         data = data.filter(p => p.name === selectedProduct);\r\n//   //       }\r\n\r\n//   //       // if (selectedCategory) {\r\n//   //       //   data = data.filter(p => p.category?.name === selectedCategory);\r\n//   //       // }\r\n\r\n\r\n\r\n//   //       // ðŸ”¥ Sort by time\r\n//   //       data.sort(\r\n//   //         (a, b) =>\r\n//   //           new Date(a.createdAt || a.validTill) -\r\n//   //           new Date(b.createdAt || b.validTill)\r\n//   //       );\r\n\r\n//   //       const labels = data.map(item =>\r\n//   //         new Date(item.createdAt || item.validTill).toLocaleString(\"en-IN\")\r\n//   //       );\r\n\r\n//   //       const prices = data.map(item => {\r\n//   //         const base = Number(item.basePrice) || 0;\r\n//   //         const diff = Number(item.difference) || 0;\r\n//   //         return base + diff;\r\n//   //       });\r\n\r\n//   //       // Single point fix\r\n//   //       if (labels.length === 1) {\r\n//   //         labels.unshift(\"Earlier\");\r\n//   //         prices.unshift(prices[0]);\r\n//   //       }\r\n\r\n//   //       setChartData({\r\n//   //         labels,\r\n//   //         datasets: [\r\n//   //           {\r\n//   //             label: \"Final Price (â‚¹)\",\r\n//   //             data: prices,\r\n//   //             borderColor: \"#dc3545\",\r\n//   //             backgroundColor: \"rgba(220,53,69,0.15)\",\r\n//   //             tension: 0,\r\n//   //             fill: true,\r\n//   //             pointRadius: 5,\r\n//   //             pointHoverRadius: 7,\r\n//   //           },\r\n//   //         ],\r\n//   //       });\r\n\r\n//   //     } catch (err) {\r\n//   //       console.error(\"Chart error:\", err);\r\n//   //     } finally {\r\n//   //       setLoading(false);\r\n//   //     }\r\n//   //   };\r\n//   const fetchChart = async () => {\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       const res = await axios.get(`${API_BASE}/prices`);\r\n\r\n//       let data = [];\r\n\r\n//       // âœ… Proper flatten with category name\r\n//       res.data.data.forEach(category => {\r\n//         category.subcategories.forEach(sub => {\r\n//           sub.products.forEach(prod => {\r\n//             data.push({\r\n//               ...prod,\r\n//               categoryName: category.name   // ðŸ”¥ important\r\n//             });\r\n//           });\r\n//         });\r\n//       });\r\n\r\n//       // âœ… Product filter\r\n//       if (selectedProduct) {\r\n//         data = data.filter(p => p.name === selectedProduct);\r\n//       }\r\n\r\n//       // âœ… Category filter\r\n//       if (selectedCategory) {\r\n//         data = data.filter(p => p.categoryName === selectedCategory);\r\n//       }\r\n\r\n//       // â— If nothing found, clear chart\r\n//       if (data.length === 0) {\r\n//         setChartData(null);\r\n//         setLoading(false);\r\n//         return;\r\n//       }\r\n\r\n//       // âœ… Sort by time\r\n//       data.sort(\r\n//         (a, b) =>\r\n//           new Date(a.createdAt || a.validTill) -\r\n//           new Date(b.createdAt || b.validTill)\r\n//       );\r\n\r\n//       const labels = data.map(item =>\r\n//         new Date(item.createdAt || item.validTill).toLocaleString(\"en-IN\")\r\n//       );\r\n\r\n//       const prices = data.map(item => {\r\n//         const base = Number(item.basePrice) || 0;\r\n//         const diff = Number(item.difference) || 0;\r\n//         return base + diff;\r\n//       });\r\n\r\n//       // Single point zigzag fix\r\n//       if (labels.length === 1) {\r\n//         labels.unshift(\"Earlier\");\r\n//         prices.unshift(prices[0]);\r\n//       }\r\n\r\n//       setChartData({\r\n//         labels,\r\n//         datasets: [\r\n//           {\r\n//             label: \"Final Price (â‚¹)\",\r\n//             data: prices,\r\n//             borderColor: \"#dc3545\",\r\n//             backgroundColor: \"rgba(220,53,69,0.15)\",\r\n//             tension: 0,\r\n//             fill: true,\r\n//             pointRadius: 5,\r\n//             pointHoverRadius: 7,\r\n//           },\r\n//         ],\r\n//       });\r\n\r\n//     } catch (err) {\r\n//       console.error(\"Chart error:\", err);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n\r\n//   useEffect(() => {\r\n//     fetchChart();\r\n//   }, [selectedProduct, selectedCategory]);\r\n\r\n//   /* ================= UI ================= */\r\n//   return (\r\n//     <div className=\"analytics-container\">\r\n//       <h2 className=\"analytics-title\">Price Analytics (Zig-Zag)</h2>\r\n\r\n//       <div className=\"filter-section\">\r\n//         <select value={selectedProduct} onChange={e => setSelectedProduct(e.target.value)}>\r\n//           <option value=\"\">All Products</option>\r\n//           {productList.map(p => (\r\n//             <option key={p._id} value={p.name}>{p.name}</option>\r\n//           ))}\r\n//         </select>\r\n\r\n//         <select value={selectedCategory} onChange={e => setSelectedCategory(e.target.value)}>\r\n//           <option value=\"\">All Categories</option>\r\n//           {categoryList.map(c => (\r\n//             <option key={c._id} value={c.name}>{c.name}</option>\r\n//           ))}\r\n//         </select>\r\n//       </div>\r\n\r\n//       <div className=\"chart-wrapper\">\r\n//         {loading ? (\r\n//           <div className=\"loading\">Loading...</div>\r\n//         ) : chartData ? (\r\n//           <Line\r\n//             data={chartData}\r\n//             options={{\r\n//               responsive: true,\r\n//               maintainAspectRatio: false,\r\n//               scales: {\r\n//                 y: { beginAtZero: false },\r\n//               },\r\n//               plugins: {\r\n//                 legend: { position: \"bottom\" },\r\n//                 datalabels: {\r\n//                   display: true,\r\n//                   align: \"top\",\r\n//                   formatter: v => `â‚¹${v}`,\r\n//                   font: { weight: \"bold\" },\r\n//                 },\r\n//               },\r\n//             }}\r\n//           />\r\n//         ) : (\r\n//           <div className=\"no-data\">No data available</div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n  Filler, // ðŸ”¥ For the area background gradient\r\n} from \"chart.js\";\r\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport \"./PriceAnalytics.css\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n  Filler,\r\n  ChartDataLabels\r\n);\r\n\r\nconst API_BASE = \"https://grocerrybackend.onrender.com/api\";\r\n\r\nexport default function PriceAnalytics() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [productList, setProductList] = useState([]);\r\n  const [categoryList, setCategoryList] = useState([]);\r\n  const [selectedProduct, setSelectedProduct] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [chartData, setChartData] = useState(null);\r\n\r\n  /* ================= LOAD DROPDOWNS (Same Logic) ================= */\r\n  useEffect(() => {\r\n    Promise.all([\r\n      axios.get(`${API_BASE}/prices`),\r\n      axios.get(`${API_BASE}/categories`),\r\n    ]).then(([priceRes, catRes]) => {\r\n      const products = [];\r\n      priceRes.data.data.forEach(category => {\r\n        category.subcategories.forEach(sub => {\r\n          sub.products.forEach(prod => {\r\n            products.push({\r\n              ...prod,\r\n              categoryName: category.name\r\n            });\r\n          });\r\n        });\r\n      });\r\n      setProductList(products);\r\n      setCategoryList(catRes.data.categories || []);\r\n    });\r\n  }, []);\r\n\r\n  const fetchChart = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.get(`${API_BASE}/prices`);\r\n      let data = [];\r\n\r\n      res.data.data.forEach(category => {\r\n        category.subcategories.forEach(sub => {\r\n          sub.products.forEach(prod => {\r\n            data.push({ ...prod, categoryName: category.name });\r\n          });\r\n        });\r\n      });\r\n\r\n      if (selectedProduct) data = data.filter(p => p.name === selectedProduct);\r\n      if (selectedCategory) data = data.filter(p => p.categoryName === selectedCategory);\r\n\r\n      if (data.length === 0) {\r\n        setChartData(null);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      data.sort((a, b) => new Date(a.createdAt || a.validTill) - new Date(b.createdAt || b.validTill));\r\n\r\n      const labels = data.map(item =>\r\n        new Date(item.createdAt || item.validTill).toLocaleDateString(\"en-IN\", { month: 'short', day: 'numeric' })\r\n      );\r\n\r\n      const prices = data.map(item => (Number(item.basePrice) || 0) + (Number(item.difference) || 0));\r\n\r\n      if (labels.length === 1) {\r\n        labels.unshift(\"Earlier\");\r\n        prices.unshift(prices[0]);\r\n      }\r\n\r\n      // ðŸ”¥ TailAdmin Blue Gradient Theme\r\n      setChartData({\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: \"Price\",\r\n            data: prices,\r\n            borderColor: \"#3C50E0\", // Blue color like TailAdmin\r\n            backgroundColor: (context) => {\r\n              const ctx = context.chart.ctx;\r\n              const gradient = ctx.createLinearGradient(0, 0, 0, 400);\r\n              gradient.addColorStop(0, \"rgba(60, 80, 224, 0.2)\");\r\n              gradient.addColorStop(1, \"rgba(60, 80, 224, 0)\");\r\n              return gradient;\r\n            },\r\n            tension: 0.4, // Smooth curve like screenshot 3\r\n            fill: true,\r\n            pointBackgroundColor: \"#fff\",\r\n            pointBorderColor: \"#3C50E0\",\r\n            pointBorderWidth: 2,\r\n            pointRadius: 4,\r\n            pointHoverRadius: 6,\r\n          },\r\n        ],\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Chart error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchChart();\r\n  }, [selectedProduct, selectedCategory]);\r\n\r\n  return (\r\n    <div className=\"tm-analytics-wrapper\">\r\n      {/* Title Bar like TailAdmin Card Header */}\r\n      <div className=\"tm-card-header\">\r\n        <div className=\"tm-header-left\">\r\n          <h2 className=\"tm-card-title\">Price Analytics</h2>\r\n          <p className=\"tm-card-subtitle\">Jun 1, 2024 - Dec 1, 2025</p>\r\n        </div>\r\n\r\n        {/* Filter Section - Optimized One Line */}\r\n        <div className=\"tm-filter-section\">\r\n          <div className=\"tm-select-wrapper\">\r\n            <select value={selectedProduct} onChange={e => setSelectedProduct(e.target.value)}>\r\n              <option value=\"\">All Products</option>\r\n              {productList.map(p => (\r\n                <option key={p._id} value={p.name}>{p.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"tm-select-wrapper\">\r\n            <select value={selectedCategory} onChange={e => setSelectedCategory(e.target.value)}>\r\n              <option value=\"\">All Categories</option>\r\n              {categoryList.map(c => (\r\n                <option key={c._id} value={c.name}>{c.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"tm-chart-container\">\r\n        {loading ? (\r\n          <div className=\"tm-loading-state\">\r\n            <div className=\"spinner\"></div>\r\n            <span>Loading Analytics...</span>\r\n          </div>\r\n        ) : chartData ? (\r\n          <div className=\"tm-canvas-wrapper\">\r\n            <Line\r\n              data={chartData}\r\n              options={{\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                scales: {\r\n                  y: {\r\n                    beginAtZero: false,\r\n                    grid: { color: \"#F1F5F9\", drawBorder: false },\r\n                    ticks: { color: \"#64748B\", font: { size: 12 } }\r\n                  },\r\n                  x: {\r\n                    grid: { display: false },\r\n                    ticks: { color: \"#64748B\", font: { size: 12 } }\r\n                  },\r\n                },\r\n                plugins: {\r\n                  legend: { display: false }, // Hide legend to match screenshot\r\n                  datalabels: {\r\n                    display: true,\r\n                    align: \"top\",\r\n                    color: \"#3C50E0\",\r\n                    formatter: v => `â‚¹${v}`,\r\n                    font: { weight: \"600\", size: 11 },\r\n                  },\r\n                  tooltip: {\r\n                    backgroundColor: \"#1C2434\",\r\n                    padding: 12,\r\n                    titleFont: { size: 14 },\r\n                    bodyFont: { size: 14 },\r\n                    displayColors: false,\r\n                  }\r\n                },\r\n              }}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className=\"tm-no-data\">No price history found</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}