{"ast":null,"code":"var _jsxFileName = \"/Users/akshaychandel/Desktop/Grocerryadminfrontend-main/src/pages/admin/Users.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./Users.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"https://grocerrybackend.onrender.com/api/user\";\nexport default function Users() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    // password: \"\",\n    role: \"user\"\n  });\n  const [editId, setEditId] = useState(null);\n  const [openMenu, setOpenMenu] = useState(null); // 3 dots dropdown\n\n  const fetchUsers = () => {\n    setLoading(true);\n    axios.get(API).then(res => setUsers(res.data)).catch(err => console.error(err)).finally(() => setLoading(false));\n  };\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (editId) {\n        await axios.put(`${API}/${editId}`, form);\n        alert(\"User updated\");\n      } else {\n        await axios.post(API, form);\n        alert(\"User created\");\n      }\n      setForm({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"user\"\n      });\n      setEditId(null);\n      fetchUsers();\n    } catch (err) {\n      alert(\"Save failed\");\n    }\n  };\n  const handleEdit = usr => {\n    setForm({\n      name: usr.name,\n      email: usr.email,\n      password: \"\",\n      role: usr.role\n    });\n    setEditId(usr._id);\n    setOpenMenu(null);\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Delete user?\")) return;\n    try {\n      await axios.delete(`${API}/${id}`);\n      setOpenMenu(null);\n      fetchUsers();\n    } catch {\n      alert(\"Delete failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"users-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" User Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }, this), !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"users-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map((u, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: u.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: u.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `role-badge ${u.role}`,\n                children: u.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }, this)]\n          }, u._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(Users, \"s+lWuAEl534vodBlpZwLhCj8U80=\");\n_c = Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","API","Users","_s","users","setUsers","loading","setLoading","form","setForm","name","email","role","editId","setEditId","openMenu","setOpenMenu","fetchUsers","get","then","res","data","catch","err","console","error","finally","handleSubmit","e","preventDefault","put","alert","post","password","handleEdit","usr","_id","window","scrollTo","top","behavior","handleDelete","id","confirm","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","u","i","_c","$RefreshReg$"],"sources":["/Users/akshaychandel/Desktop/Grocerryadminfrontend-main/src/pages/admin/Users.jsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Users.css\";\r\n\r\nconst API = \"https://grocerrybackend.onrender.com/api/user\";\r\n\r\nexport default function Users() {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    // password: \"\",\r\n    role: \"user\",\r\n  });\r\n\r\n  const [editId, setEditId] = useState(null);\r\n  const [openMenu, setOpenMenu] = useState(null); // 3 dots dropdown\r\n\r\n  const fetchUsers = () => {\r\n    setLoading(true);\r\n    axios\r\n      .get(API)\r\n      .then((res) => setUsers(res.data))\r\n      .catch((err) => console.error(err))\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (editId) {\r\n        await axios.put(`${API}/${editId}`, form);\r\n        alert(\"User updated\");\r\n      } else {\r\n        await axios.post(API, form);\r\n        alert(\"User created\");\r\n      }\r\n\r\n      setForm({ name: \"\", email: \"\", password: \"\", role: \"user\" });\r\n      setEditId(null);\r\n      fetchUsers();\r\n    } catch (err) {\r\n      alert(\"Save failed\");\r\n    }\r\n  };\r\n\r\n  const handleEdit = (usr) => {\r\n    setForm({\r\n      name: usr.name,\r\n      email: usr.email,\r\n      password: \"\",\r\n      role: usr.role,\r\n    });\r\n    setEditId(usr._id);\r\n    setOpenMenu(null);\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Delete user?\")) return;\r\n\r\n    try {\r\n      await axios.delete(`${API}/${id}`);\r\n      setOpenMenu(null);\r\n      fetchUsers();\r\n    } catch {\r\n      alert(\"Delete failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"users-container\">\r\n      <div className=\"users-header\">\r\n        <h2> User Management</h2>\r\n        \r\n        \r\n      </div>\r\n<br/>\r\n<br/>\r\n      {/* Form */}\r\n      {/* <form className=\"user-form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          value={form.name}\r\n          onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n        />\r\n\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={form.email}\r\n          onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n        />\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Password (encrypted)\"\r\n          value={form.password}\r\n          onChange={(e) => setForm({ ...form, password: e.target.value })}\r\n        />\r\n\r\n        <select\r\n          value={form.role}\r\n          onChange={(e) => setForm({ ...form, role: e.target.value })}\r\n        >\r\n          <option value=\"user\">User</option>\r\n          <option value=\"admin\">Admin</option>\r\n        </select>\r\n\r\n        <button type=\"submit\">{editId ? \"Update User\" : \"Add User\"}</button>\r\n\r\n        {editId && (\r\n          <button\r\n            type=\"button\"\r\n            className=\"cancel-btn\"\r\n            onClick={() => {\r\n              setEditId(null);\r\n              setForm({ name: \"\", email: \"\", password: \"\", role: \"user\" });\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n        )}\r\n      </form> */}\r\n\r\n      {/* TABLE WITH SCROLL */}\r\n      {!loading && (\r\n        <div className=\"table-wrapper\">\r\n          <table className=\"users-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                {/* <th>Password</th> */}\r\n                <th>Role</th>\r\n                {/* <th>Actions</th> */}\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {users.map((u, i) => (\r\n                <tr key={u._id}>\r\n                  <td>{i + 1}</td>\r\n                  <td>{u.name}</td>\r\n                  <td>{u.email}</td>\r\n\r\n                  {/* <td className=\"password-col\">{u.password}</td> */}\r\n\r\n                  <td>\r\n                    <span className={`role-badge ${u.role}`}>{u.role}</span>\r\n                  </td>\r\n\r\n                  {/* 3 DOTS MENU */}\r\n                  {/* <td className=\"action-cell\">\r\n                    <div className=\"action-menu\">\r\n                      <button\r\n                        className=\"dots-btn\"\r\n                        onClick={() =>\r\n                          setOpenMenu(openMenu === u._id ? null : u._id)\r\n                        }\r\n                      >\r\n                        â‹®\r\n                      </button>\r\n\r\n                      {openMenu === u._id && (\r\n                        <div className=\"dropdown-menu\">\r\n                          <button onClick={() => handleEdit(u)}>Edit</button>\r\n                          <button onClick={() => handleDelete(u._id)}>\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </td> */}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {loading && <div className=\"loader\">Loading users...</div>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}