{"ast":null,"code":"import _objectSpread from\"C:/Users/Rinku Sheoran/Downloads/g1/Grocerryadminfrontend-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// // import React, { useEffect, useState } from \"react\";\n// // import axios from \"axios\";\n// // // import \"./PriceList.css\"; // same CSS use kar sakte ho\n// // import \"./ProductList.css\";\n// // const API_URL = \"https://grocerrybackend.onrender.com/api/prices\";\n// // const CATEGORY_URL = \"https://grocerrybackend.onrender.com/api/categories\";\n// // function ProductList() {\n// //   const [items, setItems] = useState([]);\n// //   const [categories, setCategories] = useState([]);\n// //   const [subcategories, setSubcategories] = useState([]);\n// //   const [searchText, setSearchText] = useState(\"\");\n// //   const [filterCategory, setFilterCategory] = useState(\"\");\n// //   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n// //   const [currentPage, setCurrentPage] = useState(1);\n// //   const itemsPerPage = 20;\n// //   const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n// //   // ---------------------- FETCH DATA ---------------------\n// //   useEffect(() => {\n// //     fetchItems();\n// //     fetchCategories();\n// //     const handleResize = () => setIsMobile(window.innerWidth < 768);\n// //     window.addEventListener(\"resize\", handleResize);\n// //     return () => window.removeEventListener(\"resize\", handleResize);\n// //   }, []);\n// //   const fetchItems = async () => {\n// //     try {\n// //       const res = await axios.get(API_URL);\n// //       if (res.data.success) setItems(res.data.data);\n// //     } catch (err) {\n// //       console.log(\"Items fetch failed\", err);\n// //     }\n// //   };\n// //   const fetchCategories = async () => {\n// //     try {\n// //       const res = await axios.get(CATEGORY_URL);\n// //       if (res.data.success) {\n// //         setCategories(res.data.categories);\n// //       }\n// //     } catch (err) {\n// //       console.log(\"Category fetch failed\", err);\n// //     }\n// //   };\n// //   // ---------------------- HANDLE CATEGORY FILTER â†’ LOAD SUBS ---------------------\n// //   useEffect(() => {\n// //     if (!filterCategory) {\n// //       setSubcategories([]);\n// //       setFilterSubcategory(\"\");\n// //       return;\n// //     }\n// //     const cat = categories.find((c) => c._id === filterCategory);\n// //     setSubcategories(cat?.subcategories || []);\n// //     setFilterSubcategory(\"\");\n// //   }, [filterCategory, categories]);\n// //   // ---------------------- FILTERED LIST ---------------------\n// //   const filteredItems = items.filter((item) => {\n// //     const t = searchText.toLowerCase();\n// //     const matchSearch =\n// //       item.name.toLowerCase().includes(t) ||\n// //       item.category?.name?.toLowerCase().includes(t) ||\n// //       item.subcategory?.name?.toLowerCase().includes(t);\n// //     const matchCategory =\n// //       !filterCategory || item.category?._id === filterCategory;\n// //     const matchSubcategory =\n// //       !filterSubcategory || item.subcategory?._id === filterSubcategory;\n// //     return matchSearch && matchCategory && matchSubcategory;\n// //   });\n// //   // ---------------------- PAGINATION ---------------------\n// //   const indexOfLast = currentPage * itemsPerPage;\n// //   const renderedItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n// //   const totalPages = Math.ceil(filteredItems.length / itemsPerPage);\n// //   return (\n// //     <div className=\"price-container\">\n// //       {/* ---------------- HEADER ---------------- */}\n// //       <div className=\"header-section\">\n// //         <h1>ðŸ“¦ Product List</h1>\n// //         <p>View all products with sorting, search & category filters.</p>\n// //       </div>\n// //       {/* ---------------- FILTER BAR ---------------- */}\n// //       <div className=\"filter-bar\">\n// //         {/* SEARCH */}\n// //         <input\n// //           type=\"text\"\n// //           placeholder=\"Search product, category or subcategory...\"\n// //           value={searchText}\n// //           onChange={(e) => {\n// //             setCurrentPage(1);\n// //             setSearchText(e.target.value);\n// //           }}\n// //         />\n// //         {/* CATEGORY FILTER */}\n// //         <select\n// //           value={filterCategory}\n// //           onChange={(e) => { \n// //             setFilterCategory(e.target.value);\n// //             setCurrentPage(1);\n// //           }}\n// //         >\n// //           <option value=\"\">All Categories</option>\n// //           {categories.map((c) => (\n// //             <option key={c._id} value={c._id}>\n// //               {c.name}\n// //             </option>\n// //           ))}\n// //         </select>\n// //         {/* SUBCATEGORY FILTER */}\n// //         <select\n// //           value={filterSubcategory}\n// //           disabled={!subcategories.length}\n// //           onChange={(e) => {\n// //             setFilterSubcategory(e.target.value);\n// //             setCurrentPage(1);\n// //           }}\n// //         >\n// //           <option value=\"\">All Subcategories</option>\n// //           {subcategories.map((s) => (\n// //             <option key={s._id} value={s._id}>\n// //               {s.name}\n// //             </option>\n// //           ))}\n// //         </select>\n// //       </div>\n// //       {/* ---------------- LIST TABLE ---------------- */}\n// //       <div className=\"table-card\">\n// //         <div className=\"table-header\">\n// //           <h2>ðŸ“‹ Items</h2>\n// //           <span>Total: {filteredItems.length}</span>\n// //         </div>\n// //         {/* DESKTOP TABLE */}\n// //         {!isMobile ? (\n// //           <table>\n// //             <thead>\n// //               <tr>\n// //                 <th>Sr</th>\n// //                 <th>Image</th>\n// //                 <th>Name</th>\n// //                 {/* <th>Category</th>\n// //                 <th>Subcategory</th> */}\n// //                 <th>Base</th>\n// //                 <th>Diff</th>\n// //                 <th>Final</th>\n// //                 {/* <th>Valid Till</th> */}\n// //               </tr>\n// //             </thead>\n// //             <tbody>\n// //               {renderedItems.map((item, i) => (\n// //                 <tr key={item._id}>\n// //                   <td>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\n// //                   <td>\n// //                     {item.image ? (\n// //                       <img src={item.image} alt=\"img\" />\n// //                     ) : (\n// //                       \"No Img\"\n// //                     )}\n// //                   </td>\n// //                   <td>{item.name}</td>\n// // {/* \n// //                   <td>{item.category?.name}</td>\n// //                   <td>{item.subcategory?.name || \"-\"}</td> */}\n// //                   <td>â‚¹{item.basePrice}</td>\n// //                   <td>{item.difference || 0}</td>\n// //                   <td>â‚¹{Number(item.basePrice) + Number(item.difference || 0)}</td>\n// //                   {/* <td>\n// //                     {item.validTill\n// //                       ? new Date(item.validTill).toLocaleDateString()\n// //                       : \"-\"}\n// //                   </td> */}\n// //                   {/* <td>\n// //                     {item.status === \"active\" ? (\n// //                       <span className=\"status-active\">ðŸŸ¢ Active</span>\n// //                     ) : (\n// //                       <span className=\"status-inactive\">ðŸ”´ Inactive</span>\n// //                     )}\n// //                   </td> */}\n// //                 </tr>\n// //               ))}\n// //             </tbody>\n// //           </table>\n// //         ) : (\n// //           /* ---------------- MOBILE CARD VIEW ---------------- */\n// //           <div className=\"mobile-list\">\n// //             {renderedItems.map((item) => (\n// //               <div key={item._id} className=\"mobile-card\">\n// //                 {item.image ? (\n// //                   <img src={item.image} alt=\"img\" />\n// //                 ) : (\n// //                   <div>No Image</div>\n// //                 )}\n// //                 <h3>{item.name}</h3>\n// //                 {/* <p><b>Category:</b> {item.category?.name}</p>\n// //                 <p><b>Subcategory:</b> {item.subcategory?.name || \"-\"}</p> */}\n// //                 <p><b>Base:</b> â‚¹{item.basePrice}</p>\n// //                 <p><b>Difference:</b> â‚¹{item.difference || 0}</p>\n// //                 <p><b>Final:</b> â‚¹{Number(item.basePrice) + Number(item.difference || 0)}</p>\n// //                 {/* <p className={item.status === \"active\" ? \"status-active\" : \"status-inactive\"}>\n// //                   {item.status === \"active\" ? \"ðŸŸ¢ Active\" : \"ðŸ”´ Inactive\"}\n// //                 </p> */}\n// //               </div>\n// //             ))}\n// //           </div>\n// //         )}\n// //         {/* ---------------- PAGINATION ---------------- */}\n// //         <div className=\"pagination\">\n// //           <button disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\n// //             Previous\n// //           </button>\n// //           {Array.from({ length: totalPages }).map((_, i) => (\n// //             <button\n// //               key={i}\n// //               className={currentPage === i + 1 ? \"active-page\" : \"\"}\n// //               onClick={() => setCurrentPage(i + 1)}\n// //             >\n// //               {i + 1}\n// //             </button>\n// //           ))}\n// //           <button\n// //             disabled={currentPage === totalPages}\n// //             onClick={() => setCurrentPage((p) => p + 1)}\n// //           >\n// //             Next\n// //           </button>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // }\n// // export default ProductList;\n// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import \"./ProductList.css\";\n// const API_URL = \"https://grocerrybackend.onrender.com/api/prices\";\n// const CATEGORY_URL = \"https://grocerrybackend.onrender.com/api/categories\";\n// function ProductList() {\n//   const [items, setItems] = useState([]);\n//   const [categories, setCategories] = useState([]);\n//   const [subcategories, setSubcategories] = useState([]);\n//   const [searchText, setSearchText] = useState(\"\");\n//   const [filterCategory, setFilterCategory] = useState(\"\");\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const itemsPerPage = 20;\n//   const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n//   useEffect(() => {\n//     fetchItems();\n//     fetchCategories();\n//     const handleResize = () => setIsMobile(window.innerWidth < 768);\n//     window.addEventListener(\"resize\", handleResize);\n//     return () => window.removeEventListener(\"resize\", handleResize);\n//   }, []);\n//   const fetchItems = async () => {\n//     try {\n//       const res = await axios.get(API_URL);\n//       if (res.data.success) setItems(res.data.data);\n//     } catch (err) {\n//       console.log(\"Items fetch failed\", err);\n//     }\n//   };\n//   const fetchCategories = async () => {\n//     try {\n//       const res = await axios.get(CATEGORY_URL);\n//       if (res.data.success) {\n//         setCategories(res.data.categories);\n//       }\n//     } catch (err) {\n//       console.log(\"Category fetch failed\", err);\n//     }\n//   };\n//   useEffect(() => {\n//     if (!filterCategory) {\n//       setSubcategories([]);\n//       setFilterSubcategory(\"\");\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === filterCategory);\n//     setSubcategories(cat?.subcategories || []);\n//     setFilterSubcategory(\"\");\n//   }, [filterCategory, categories]);\n//   const filteredItems = items.filter((item) => {\n//     const t = searchText.toLowerCase();\n//     const matchSearch =\n//       item.name.toLowerCase().includes(t) ||\n//       item.category?.name?.toLowerCase().includes(t) ||\n//       item.subcategory?.name?.toLowerCase().includes(t);\n//     const matchCategory =\n//       !filterCategory || item.category?._id === filterCategory;\n//     const matchSubcategory =\n//       !filterSubcategory || item.subcategory?._id === filterSubcategory;\n//     return matchSearch && matchCategory && matchSubcategory;\n//   });\n//   const indexOfLast = currentPage * itemsPerPage;\n//   const renderedItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n//   const totalPages = Math.ceil(filteredItems.length / itemsPerPage);\n//   return (\n//     <div className=\"price-container\">\n//       <div className=\"header-section\">\n//         <h1> Product List</h1>\n//       </div>\n//       <div className=\"filter-bar\">\n//         <input\n//           type=\"text\"\n//           placeholder=\"Search product, category or subcategory...\"\n//           value={searchText}\n//           onChange={(e) => {\n//             setCurrentPage(1);\n//             setSearchText(e.target.value);\n//           }}\n//         />\n//         <select\n//           value={filterCategory}\n//           onChange={(e) => {\n//             setFilterCategory(e.target.value);\n//             setCurrentPage(1);\n//           }}\n//         >\n//           <option value=\"\">All Categories</option>\n//           {categories.map((c) => (\n//             <option key={c._id} value={c._id}>\n//               {c.name}\n//             </option>\n//           ))}\n//         </select>\n//         <select\n//           value={filterSubcategory}\n//           disabled={!subcategories.length}\n//           onChange={(e) => {\n//             setFilterSubcategory(e.target.value);\n//             setCurrentPage(1);\n//           }}\n//         >\n//           <option value=\"\">All Subcategories</option>\n//           {subcategories.map((s) => (\n//             <option key={s._id} value={s._id}>\n//               {s.name}\n//             </option>\n//           ))}\n//         </select>\n//       </div>\n//       <div className=\"table-card\">\n//         <div className=\"table-header\">\n//           <h2> Items</h2>\n//           <span>Total: {filteredItems.length}</span>\n//         </div>\n//         {/* Always show table on mobile & desktop */}\n//         <div className=\"table-scroll\">\n//           <table>\n//             <thead>\n//               <tr>\n//                 <th>Sr</th>\n//                 <th>Image</th>\n//                 <th>Name</th>\n//                 <th>Base</th>\n//                 <th>Diff</th>\n//                 <th>Final</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {renderedItems.map((item, i) => (\n//                 <tr key={item._id}>\n//                   <td>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\n//                   <td>\n//                     {item.image ? (\n//                       <img src={item.image} alt=\"img\" />\n//                     ) : (\n//                       \"No Img\"\n//                     )}\n//                   </td>\n//                   <td>{item.name}</td>\n//                   <td>â‚¹{item.basePrice}</td>\n//                   <td>{item.difference || 0}</td>\n//                   <td>â‚¹{Number(item.basePrice) + Number(item.difference || 0)}</td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n//         <div className=\"pagination\">\n//           <button disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\n//             Previous\n//           </button>\n//           {Array.from({ length: totalPages }).map((_, i) => (\n//             <button\n//               key={i}\n//               className={currentPage === i + 1 ? \"active-page\" : \"\"}\n//               onClick={() => setCurrentPage(i + 1)}\n//             >\n//               {i + 1}\n//             </button>\n//           ))}\n//           <button\n//             disabled={currentPage === totalPages}\n//             onClick={() => setCurrentPage((p) => p + 1)}\n//           >\n//             Next\n//           </button>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n// export default ProductList;\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./ProductList.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"https://grocerrybackend.onrender.com/api/prices\";const CATEGORY_URL=\"https://grocerrybackend.onrender.com/api/categories\";function ProductList(){const[items,setItems]=useState([]);const[categories,setCategories]=useState([]);const[subcategories,setSubcategories]=useState([]);const[searchText,setSearchText]=useState(\"\");const[filterCategory,setFilterCategory]=useState(\"\");const[filterSubcategory,setFilterSubcategory]=useState(\"\");const[currentPage,setCurrentPage]=useState(1);const itemsPerPage=20;const[isMobile,setIsMobile]=useState(window.innerWidth<768);useEffect(()=>{fetchItems();fetchCategories();const handleResize=()=>setIsMobile(window.innerWidth<768);window.addEventListener(\"resize\",handleResize);return()=>window.removeEventListener(\"resize\",handleResize);},[]);// --------------------- FETCH ITEMS ---------------------\nconst fetchItems=async()=>{try{const res=await axios.get(API_URL);if(res.data.success){const data=res.data.data.map(item=>{var _ref,_item$todayDiff,_item$todayDiff2;return _objectSpread(_objectSpread({},item),{},{// â­ Normalized fields\ntodayDiff:(_ref=(_item$todayDiff=item.todayDiff)!==null&&_item$todayDiff!==void 0?_item$todayDiff:item.difference)!==null&&_ref!==void 0?_ref:0,lastFinalPrice:item.lastFinalPrice&&item.lastFinalPrice>0?item.lastFinalPrice:item.basePrice,currentFinalPrice:item.currentFinalPrice&&item.currentFinalPrice>0?item.currentFinalPrice:item.basePrice+((_item$todayDiff2=item.todayDiff)!==null&&_item$todayDiff2!==void 0?_item$todayDiff2:0)});});setItems(data);}}catch(err){console.log(\"Items fetch failed\",err);}};// ---------------- FETCH CATEGORIES ----------------\nconst fetchCategories=async()=>{try{const res=await axios.get(CATEGORY_URL);if(res.data.success){setCategories(res.data.categories);}}catch(err){console.log(\"Category fetch failed\",err);}};// ---------------- FILTER SUBCATEGORIES ----------------\nuseEffect(()=>{if(!filterCategory){setSubcategories([]);setFilterSubcategory(\"\");return;}const cat=categories.find(c=>c._id===filterCategory);setSubcategories((cat===null||cat===void 0?void 0:cat.subcategories)||[]);setFilterSubcategory(\"\");},[filterCategory,categories]);// ---------------- FILTERING ----------------\nconst filteredItems=items.filter(item=>{var _item$name,_item$category,_item$category$name,_item$subcategory,_item$subcategory$nam,_item$category2,_item$subcategory2;const t=searchText.toLowerCase();const matchSearch=((_item$name=item.name)===null||_item$name===void 0?void 0:_item$name.toLowerCase().includes(t))||((_item$category=item.category)===null||_item$category===void 0?void 0:(_item$category$name=_item$category.name)===null||_item$category$name===void 0?void 0:_item$category$name.toLowerCase().includes(t))||((_item$subcategory=item.subcategory)===null||_item$subcategory===void 0?void 0:(_item$subcategory$nam=_item$subcategory.name)===null||_item$subcategory$nam===void 0?void 0:_item$subcategory$nam.toLowerCase().includes(t));const matchCategory=!filterCategory||((_item$category2=item.category)===null||_item$category2===void 0?void 0:_item$category2._id)===filterCategory;const matchSubcategory=!filterSubcategory||((_item$subcategory2=item.subcategory)===null||_item$subcategory2===void 0?void 0:_item$subcategory2._id)===filterSubcategory;return matchSearch&&matchCategory&&matchSubcategory;});// ---------------- PAGINATION ----------------\nconst indexOfLast=currentPage*itemsPerPage;const renderedItems=filteredItems.slice(indexOfLast-itemsPerPage,indexOfLast);const totalPages=Math.ceil(filteredItems.length/itemsPerPage);return/*#__PURE__*/_jsxs(\"div\",{className:\"price-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-section\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Product List\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search product, category or subcategory...\",value:searchText,onChange:e=>{setCurrentPage(1);setSearchText(e.target.value);}}),/*#__PURE__*/_jsxs(\"select\",{value:filterCategory,onChange:e=>{setFilterCategory(e.target.value);setCurrentPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c._id,children:c.name},c._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Items\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Total: \",filteredItems.length]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-scroll\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sr\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Base\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Yesterday Final\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Today Diff\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Final\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:renderedItems.map((item,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(currentPage-1)*itemsPerPage+(i+1)}),/*#__PURE__*/_jsx(\"td\",{children:item.image?/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"img\"}):\"No Img\"}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",item.basePrice]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",item.lastFinalPrice]}),/*#__PURE__*/_jsx(\"td\",{children:item.todayDiff}),/*#__PURE__*/_jsxs(\"td\",{style:{fontWeight:\"700\"},children:[\"\\u20B9\",item.currentFinalPrice]})]},item._id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:currentPage===1,onClick:()=>setCurrentPage(p=>p-1),children:\"Previous\"}),Array.from({length:totalPages}).map((_,i)=>/*#__PURE__*/_jsx(\"button\",{className:currentPage===i+1?\"active-page\":\"\",onClick:()=>setCurrentPage(i+1),children:i+1},i)),/*#__PURE__*/_jsx(\"button\",{disabled:currentPage===totalPages,onClick:()=>setCurrentPage(p=>p+1),children:\"Next\"})]})]})]});}export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","API_URL","CATEGORY_URL","ProductList","items","setItems","categories","setCategories","subcategories","setSubcategories","searchText","setSearchText","filterCategory","setFilterCategory","filterSubcategory","setFilterSubcategory","currentPage","setCurrentPage","itemsPerPage","isMobile","setIsMobile","window","innerWidth","fetchItems","fetchCategories","handleResize","addEventListener","removeEventListener","res","get","data","success","map","item","_ref","_item$todayDiff","_item$todayDiff2","_objectSpread","todayDiff","difference","lastFinalPrice","basePrice","currentFinalPrice","err","console","log","cat","find","c","_id","filteredItems","filter","_item$name","_item$category","_item$category$name","_item$subcategory","_item$subcategory$nam","_item$category2","_item$subcategory2","t","toLowerCase","matchSearch","name","includes","category","subcategory","matchCategory","matchSubcategory","indexOfLast","renderedItems","slice","totalPages","Math","ceil","length","className","children","type","placeholder","value","onChange","e","target","i","image","src","alt","style","fontWeight","disabled","onClick","p","Array","from","_"],"sources":["C:/Users/Rinku Sheoran/Downloads/g1/Grocerryadminfrontend-main/src/pages/admin/ProductList.jsx"],"sourcesContent":["// // import React, { useEffect, useState } from \"react\";\r\n// // import axios from \"axios\";\r\n// // // import \"./PriceList.css\"; // same CSS use kar sakte ho\r\n// // import \"./ProductList.css\";\r\n\r\n\r\n// // const API_URL = \"https://grocerrybackend.onrender.com/api/prices\";\r\n// // const CATEGORY_URL = \"https://grocerrybackend.onrender.com/api/categories\";\r\n\r\n// // function ProductList() {\r\n// //   const [items, setItems] = useState([]);\r\n// //   const [categories, setCategories] = useState([]);\r\n// //   const [subcategories, setSubcategories] = useState([]);\r\n\r\n// //   const [searchText, setSearchText] = useState(\"\");\r\n// //   const [filterCategory, setFilterCategory] = useState(\"\");\r\n// //   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n\r\n// //   const [currentPage, setCurrentPage] = useState(1);\r\n// //   const itemsPerPage = 20;\r\n\r\n// //   const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n\r\n// //   // ---------------------- FETCH DATA ---------------------\r\n// //   useEffect(() => {\r\n// //     fetchItems();\r\n// //     fetchCategories();\r\n\r\n// //     const handleResize = () => setIsMobile(window.innerWidth < 768);\r\n// //     window.addEventListener(\"resize\", handleResize);\r\n\r\n// //     return () => window.removeEventListener(\"resize\", handleResize);\r\n// //   }, []);\r\n\r\n// //   const fetchItems = async () => {\r\n// //     try {\r\n// //       const res = await axios.get(API_URL);\r\n// //       if (res.data.success) setItems(res.data.data);\r\n// //     } catch (err) {\r\n// //       console.log(\"Items fetch failed\", err);\r\n// //     }\r\n// //   };\r\n\r\n// //   const fetchCategories = async () => {\r\n// //     try {\r\n// //       const res = await axios.get(CATEGORY_URL);\r\n// //       if (res.data.success) {\r\n// //         setCategories(res.data.categories);\r\n// //       }\r\n// //     } catch (err) {\r\n// //       console.log(\"Category fetch failed\", err);\r\n// //     }\r\n// //   };\r\n\r\n// //   // ---------------------- HANDLE CATEGORY FILTER â†’ LOAD SUBS ---------------------\r\n// //   useEffect(() => {\r\n// //     if (!filterCategory) {\r\n// //       setSubcategories([]);\r\n// //       setFilterSubcategory(\"\");\r\n// //       return;\r\n// //     }\r\n\r\n// //     const cat = categories.find((c) => c._id === filterCategory);\r\n// //     setSubcategories(cat?.subcategories || []);\r\n// //     setFilterSubcategory(\"\");\r\n// //   }, [filterCategory, categories]);\r\n\r\n// //   // ---------------------- FILTERED LIST ---------------------\r\n// //   const filteredItems = items.filter((item) => {\r\n// //     const t = searchText.toLowerCase();\r\n\r\n// //     const matchSearch =\r\n// //       item.name.toLowerCase().includes(t) ||\r\n// //       item.category?.name?.toLowerCase().includes(t) ||\r\n// //       item.subcategory?.name?.toLowerCase().includes(t);\r\n\r\n// //     const matchCategory =\r\n// //       !filterCategory || item.category?._id === filterCategory;\r\n\r\n// //     const matchSubcategory =\r\n// //       !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n// //     return matchSearch && matchCategory && matchSubcategory;\r\n// //   });\r\n\r\n// //   // ---------------------- PAGINATION ---------------------\r\n// //   const indexOfLast = currentPage * itemsPerPage;\r\n// //   const renderedItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n// //   const totalPages = Math.ceil(filteredItems.length / itemsPerPage);\r\n\r\n// //   return (\r\n// //     <div className=\"price-container\">\r\n\r\n// //       {/* ---------------- HEADER ---------------- */}\r\n// //       <div className=\"header-section\">\r\n// //         <h1>ðŸ“¦ Product List</h1>\r\n// //         <p>View all products with sorting, search & category filters.</p>\r\n// //       </div>\r\n\r\n// //       {/* ---------------- FILTER BAR ---------------- */}\r\n// //       <div className=\"filter-bar\">\r\n\r\n// //         {/* SEARCH */}\r\n// //         <input\r\n// //           type=\"text\"\r\n// //           placeholder=\"Search product, category or subcategory...\"\r\n// //           value={searchText}\r\n// //           onChange={(e) => {\r\n// //             setCurrentPage(1);\r\n// //             setSearchText(e.target.value);\r\n// //           }}\r\n// //         />\r\n\r\n// //         {/* CATEGORY FILTER */}\r\n// //         <select\r\n// //           value={filterCategory}\r\n// //           onChange={(e) => { \r\n// //             setFilterCategory(e.target.value);\r\n// //             setCurrentPage(1);\r\n// //           }}\r\n// //         >\r\n// //           <option value=\"\">All Categories</option>\r\n// //           {categories.map((c) => (\r\n// //             <option key={c._id} value={c._id}>\r\n// //               {c.name}\r\n// //             </option>\r\n// //           ))}\r\n// //         </select>\r\n\r\n// //         {/* SUBCATEGORY FILTER */}\r\n// //         <select\r\n// //           value={filterSubcategory}\r\n// //           disabled={!subcategories.length}\r\n// //           onChange={(e) => {\r\n// //             setFilterSubcategory(e.target.value);\r\n// //             setCurrentPage(1);\r\n// //           }}\r\n// //         >\r\n// //           <option value=\"\">All Subcategories</option>\r\n// //           {subcategories.map((s) => (\r\n// //             <option key={s._id} value={s._id}>\r\n// //               {s.name}\r\n// //             </option>\r\n// //           ))}\r\n// //         </select>\r\n\r\n// //       </div>\r\n\r\n// //       {/* ---------------- LIST TABLE ---------------- */}\r\n// //       <div className=\"table-card\">\r\n// //         <div className=\"table-header\">\r\n// //           <h2>ðŸ“‹ Items</h2>\r\n// //           <span>Total: {filteredItems.length}</span>\r\n// //         </div>\r\n\r\n// //         {/* DESKTOP TABLE */}\r\n// //         {!isMobile ? (\r\n// //           <table>\r\n// //             <thead>\r\n// //               <tr>\r\n// //                 <th>Sr</th>\r\n// //                 <th>Image</th>\r\n// //                 <th>Name</th>\r\n// //                 {/* <th>Category</th>\r\n// //                 <th>Subcategory</th> */}\r\n// //                 <th>Base</th>\r\n// //                 <th>Diff</th>\r\n// //                 <th>Final</th>\r\n// //                 {/* <th>Valid Till</th> */}\r\n                \r\n// //               </tr>\r\n// //             </thead>\r\n\r\n// //             <tbody>\r\n// //               {renderedItems.map((item, i) => (\r\n// //                 <tr key={item._id}>\r\n// //                   <td>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n// //                   <td>\r\n// //                     {item.image ? (\r\n// //                       <img src={item.image} alt=\"img\" />\r\n// //                     ) : (\r\n// //                       \"No Img\"\r\n// //                     )}\r\n// //                   </td>\r\n\r\n// //                   <td>{item.name}</td>\r\n// // {/* \r\n// //                   <td>{item.category?.name}</td>\r\n\r\n// //                   <td>{item.subcategory?.name || \"-\"}</td> */}\r\n\r\n// //                   <td>â‚¹{item.basePrice}</td>\r\n\r\n// //                   <td>{item.difference || 0}</td>\r\n\r\n// //                   <td>â‚¹{Number(item.basePrice) + Number(item.difference || 0)}</td>\r\n\r\n// //                   {/* <td>\r\n// //                     {item.validTill\r\n// //                       ? new Date(item.validTill).toLocaleDateString()\r\n// //                       : \"-\"}\r\n// //                   </td> */}\r\n\r\n// //                   {/* <td>\r\n// //                     {item.status === \"active\" ? (\r\n// //                       <span className=\"status-active\">ðŸŸ¢ Active</span>\r\n// //                     ) : (\r\n// //                       <span className=\"status-inactive\">ðŸ”´ Inactive</span>\r\n// //                     )}\r\n// //                   </td> */}\r\n// //                 </tr>\r\n// //               ))}\r\n// //             </tbody>\r\n// //           </table>\r\n// //         ) : (\r\n// //           /* ---------------- MOBILE CARD VIEW ---------------- */\r\n// //           <div className=\"mobile-list\">\r\n// //             {renderedItems.map((item) => (\r\n// //               <div key={item._id} className=\"mobile-card\">\r\n// //                 {item.image ? (\r\n// //                   <img src={item.image} alt=\"img\" />\r\n// //                 ) : (\r\n// //                   <div>No Image</div>\r\n// //                 )}\r\n\r\n// //                 <h3>{item.name}</h3>\r\n\r\n// //                 {/* <p><b>Category:</b> {item.category?.name}</p>\r\n// //                 <p><b>Subcategory:</b> {item.subcategory?.name || \"-\"}</p> */}\r\n// //                 <p><b>Base:</b> â‚¹{item.basePrice}</p>\r\n// //                 <p><b>Difference:</b> â‚¹{item.difference || 0}</p>\r\n// //                 <p><b>Final:</b> â‚¹{Number(item.basePrice) + Number(item.difference || 0)}</p>\r\n\r\n// //                 {/* <p className={item.status === \"active\" ? \"status-active\" : \"status-inactive\"}>\r\n// //                   {item.status === \"active\" ? \"ðŸŸ¢ Active\" : \"ðŸ”´ Inactive\"}\r\n// //                 </p> */}\r\n// //               </div>\r\n// //             ))}\r\n// //           </div>\r\n// //         )}\r\n\r\n// //         {/* ---------------- PAGINATION ---------------- */}\r\n// //         <div className=\"pagination\">\r\n// //           <button disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n// //             Previous\r\n// //           </button>\r\n\r\n// //           {Array.from({ length: totalPages }).map((_, i) => (\r\n// //             <button\r\n// //               key={i}\r\n// //               className={currentPage === i + 1 ? \"active-page\" : \"\"}\r\n// //               onClick={() => setCurrentPage(i + 1)}\r\n// //             >\r\n// //               {i + 1}\r\n// //             </button>\r\n// //           ))}\r\n\r\n// //           <button\r\n// //             disabled={currentPage === totalPages}\r\n// //             onClick={() => setCurrentPage((p) => p + 1)}\r\n// //           >\r\n// //             Next\r\n// //           </button>\r\n// //         </div>\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // }\r\n\r\n// // export default ProductList;\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import \"./ProductList.css\";\r\n\r\n// const API_URL = \"https://grocerrybackend.onrender.com/api/prices\";\r\n// const CATEGORY_URL = \"https://grocerrybackend.onrender.com/api/categories\";\r\n\r\n// function ProductList() {\r\n//   const [items, setItems] = useState([]);\r\n//   const [categories, setCategories] = useState([]);\r\n//   const [subcategories, setSubcategories] = useState([]);\r\n\r\n//   const [searchText, setSearchText] = useState(\"\");\r\n//   const [filterCategory, setFilterCategory] = useState(\"\");\r\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const itemsPerPage = 20;\r\n\r\n//   const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n\r\n//   useEffect(() => {\r\n//     fetchItems();\r\n//     fetchCategories();\r\n\r\n//     const handleResize = () => setIsMobile(window.innerWidth < 768);\r\n//     window.addEventListener(\"resize\", handleResize);\r\n\r\n//     return () => window.removeEventListener(\"resize\", handleResize);\r\n//   }, []);\r\n\r\n//   const fetchItems = async () => {\r\n//     try {\r\n//       const res = await axios.get(API_URL);\r\n//       if (res.data.success) setItems(res.data.data);\r\n//     } catch (err) {\r\n//       console.log(\"Items fetch failed\", err);\r\n//     }\r\n//   };\r\n\r\n//   const fetchCategories = async () => {\r\n//     try {\r\n//       const res = await axios.get(CATEGORY_URL);\r\n//       if (res.data.success) {\r\n//         setCategories(res.data.categories);\r\n//       }\r\n//     } catch (err) {\r\n//       console.log(\"Category fetch failed\", err);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (!filterCategory) {\r\n//       setSubcategories([]);\r\n//       setFilterSubcategory(\"\");\r\n//       return;\r\n//     }\r\n\r\n//     const cat = categories.find((c) => c._id === filterCategory);\r\n//     setSubcategories(cat?.subcategories || []);\r\n//     setFilterSubcategory(\"\");\r\n//   }, [filterCategory, categories]);\r\n\r\n//   const filteredItems = items.filter((item) => {\r\n//     const t = searchText.toLowerCase();\r\n\r\n//     const matchSearch =\r\n//       item.name.toLowerCase().includes(t) ||\r\n//       item.category?.name?.toLowerCase().includes(t) ||\r\n//       item.subcategory?.name?.toLowerCase().includes(t);\r\n\r\n//     const matchCategory =\r\n//       !filterCategory || item.category?._id === filterCategory;\r\n\r\n//     const matchSubcategory =\r\n//       !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n//     return matchSearch && matchCategory && matchSubcategory;\r\n//   });\r\n\r\n//   const indexOfLast = currentPage * itemsPerPage;\r\n//   const renderedItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n//   const totalPages = Math.ceil(filteredItems.length / itemsPerPage);\r\n\r\n//   return (\r\n//     <div className=\"price-container\">\r\n//       <div className=\"header-section\">\r\n//         <h1> Product List</h1>\r\n        \r\n//       </div>\r\n\r\n//       <div className=\"filter-bar\">\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Search product, category or subcategory...\"\r\n//           value={searchText}\r\n//           onChange={(e) => {\r\n//             setCurrentPage(1);\r\n//             setSearchText(e.target.value);\r\n//           }}\r\n//         />\r\n\r\n//         <select\r\n//           value={filterCategory}\r\n//           onChange={(e) => {\r\n//             setFilterCategory(e.target.value);\r\n//             setCurrentPage(1);\r\n//           }}\r\n//         >\r\n//           <option value=\"\">All Categories</option>\r\n//           {categories.map((c) => (\r\n//             <option key={c._id} value={c._id}>\r\n//               {c.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n\r\n//         <select\r\n//           value={filterSubcategory}\r\n//           disabled={!subcategories.length}\r\n//           onChange={(e) => {\r\n//             setFilterSubcategory(e.target.value);\r\n//             setCurrentPage(1);\r\n//           }}\r\n//         >\r\n//           <option value=\"\">All Subcategories</option>\r\n//           {subcategories.map((s) => (\r\n//             <option key={s._id} value={s._id}>\r\n//               {s.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n//       </div>\r\n\r\n//       <div className=\"table-card\">\r\n//         <div className=\"table-header\">\r\n//           <h2> Items</h2>\r\n//           <span>Total: {filteredItems.length}</span>\r\n//         </div>\r\n\r\n//         {/* Always show table on mobile & desktop */}\r\n//         <div className=\"table-scroll\">\r\n//           <table>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th>Sr</th>\r\n//                 <th>Image</th>\r\n//                 <th>Name</th>\r\n//                 <th>Base</th>\r\n//                 <th>Diff</th>\r\n//                 <th>Final</th>\r\n//               </tr>\r\n//             </thead>\r\n\r\n//             <tbody>\r\n//               {renderedItems.map((item, i) => (\r\n//                 <tr key={item._id}>\r\n//                   <td>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n//                   <td>\r\n//                     {item.image ? (\r\n//                       <img src={item.image} alt=\"img\" />\r\n//                     ) : (\r\n//                       \"No Img\"\r\n//                     )}\r\n//                   </td>\r\n\r\n//                   <td>{item.name}</td>\r\n\r\n//                   <td>â‚¹{item.basePrice}</td>\r\n\r\n//                   <td>{item.difference || 0}</td>\r\n\r\n//                   <td>â‚¹{Number(item.basePrice) + Number(item.difference || 0)}</td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n\r\n//         <div className=\"pagination\">\r\n//           <button disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n//             Previous\r\n//           </button>\r\n\r\n//           {Array.from({ length: totalPages }).map((_, i) => (\r\n//             <button\r\n//               key={i}\r\n//               className={currentPage === i + 1 ? \"active-page\" : \"\"}\r\n//               onClick={() => setCurrentPage(i + 1)}\r\n//             >\r\n//               {i + 1}\r\n//             </button>\r\n//           ))}\r\n\r\n//           <button\r\n//             disabled={currentPage === totalPages}\r\n//             onClick={() => setCurrentPage((p) => p + 1)}\r\n//           >\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default ProductList;\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./ProductList.css\";\r\n\r\nconst API_URL = \"https://grocerrybackend.onrender.com/api/prices\";\r\nconst CATEGORY_URL = \"https://grocerrybackend.onrender.com/api/categories\";\r\n\r\nfunction ProductList() {\r\n  const [items, setItems] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [filterCategory, setFilterCategory] = useState(\"\");\r\n  const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 20;\r\n\r\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n    fetchCategories();\r\n\r\n    const handleResize = () => setIsMobile(window.innerWidth < 768);\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  // --------------------- FETCH ITEMS ---------------------\r\n  const fetchItems = async () => {\r\n    try {\r\n      const res = await axios.get(API_URL);\r\n\r\n      if (res.data.success) {\r\n        const data = res.data.data.map((item) => ({\r\n          ...item,\r\n\r\n          // â­ Normalized fields\r\n          todayDiff: item.todayDiff ?? item.difference ?? 0,\r\n\r\n          lastFinalPrice:\r\n            item.lastFinalPrice && item.lastFinalPrice > 0\r\n              ? item.lastFinalPrice\r\n              : item.basePrice,\r\n\r\n          currentFinalPrice:\r\n            item.currentFinalPrice && item.currentFinalPrice > 0\r\n              ? item.currentFinalPrice\r\n              : (item.basePrice + (item.todayDiff ?? 0)),\r\n        }));\r\n\r\n        setItems(data);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"Items fetch failed\", err);\r\n    }\r\n  };\r\n\r\n  // ---------------- FETCH CATEGORIES ----------------\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await axios.get(CATEGORY_URL);\r\n      if (res.data.success) {\r\n        setCategories(res.data.categories);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"Category fetch failed\", err);\r\n    }\r\n  };\r\n\r\n  // ---------------- FILTER SUBCATEGORIES ----------------\r\n  useEffect(() => {\r\n    if (!filterCategory) {\r\n      setSubcategories([]);\r\n      setFilterSubcategory(\"\");\r\n      return;\r\n    }\r\n\r\n    const cat = categories.find((c) => c._id === filterCategory);\r\n    setSubcategories(cat?.subcategories || []);\r\n    setFilterSubcategory(\"\");\r\n  }, [filterCategory, categories]);\r\n\r\n  // ---------------- FILTERING ----------------\r\n  const filteredItems = items.filter((item) => {\r\n    const t = searchText.toLowerCase();\r\n\r\n    const matchSearch =\r\n      item.name?.toLowerCase().includes(t) ||\r\n      item.category?.name?.toLowerCase().includes(t) ||\r\n      item.subcategory?.name?.toLowerCase().includes(t);\r\n\r\n    const matchCategory =\r\n      !filterCategory || item.category?._id === filterCategory;\r\n\r\n    const matchSubcategory =\r\n      !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n    return matchSearch && matchCategory && matchSubcategory;\r\n  });\r\n\r\n  // ---------------- PAGINATION ----------------\r\n  const indexOfLast = currentPage * itemsPerPage;\r\n  const renderedItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n  const totalPages = Math.ceil(filteredItems.length / itemsPerPage);\r\n\r\n  return (\r\n    <div className=\"price-container\">\r\n      <div className=\"header-section\">\r\n        <h1>Product List</h1>\r\n      </div>\r\n\r\n      {/* ---------------- FILTER BAR ---------------- */}\r\n      <div className=\"filter-bar\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search product, category or subcategory...\"\r\n          value={searchText}\r\n          onChange={(e) => {\r\n            setCurrentPage(1);\r\n            setSearchText(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <select\r\n          value={filterCategory}\r\n          onChange={(e) => {\r\n            setFilterCategory(e.target.value);\r\n            setCurrentPage(1);\r\n          }}\r\n        >\r\n          <option value=\"\">All Categories</option>\r\n          {categories.map((c) => (\r\n            <option key={c._id} value={c._id}>\r\n              {c.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        {/* <select\r\n          value={filterSubcategory}\r\n          disabled={!subcategories.length}\r\n          onChange={(e) => {\r\n            setFilterSubcategory(e.target.value);\r\n            setCurrentPage(1);\r\n          }}\r\n        >\r\n          <option value=\"\">All Subcategories</option>\r\n          {subcategories.map((s) => (\r\n            <option key={s._id} value={s._id}>\r\n              {s.name}\r\n            </option>\r\n          ))}\r\n        </select> */}\r\n      </div>\r\n\r\n      {/* ---------------- TABLE ---------------- */}\r\n      <div className=\"table-card\">\r\n        <div className=\"table-header\">\r\n          <h2>Items</h2>\r\n          <span>Total: {filteredItems.length}</span>\r\n        </div>\r\n\r\n        <div className=\"table-scroll\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Image</th>\r\n                <th>Name</th>\r\n                <th>Base</th>\r\n                <th>Yesterday Final</th>\r\n                <th>Today Diff</th>\r\n                <th>Final</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {renderedItems.map((item, i) => (\r\n                <tr key={item._id}>\r\n                  <td>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n                  <td>\r\n                    {item.image ? (\r\n                      <img src={item.image} alt=\"img\" />\r\n                    ) : (\r\n                      \"No Img\"\r\n                    )}\r\n                  </td>\r\n\r\n                  <td>{item.name}</td>\r\n\r\n                  <td>â‚¹{item.basePrice}</td>\r\n\r\n                  <td>â‚¹{item.lastFinalPrice}</td>\r\n\r\n                  <td>{item.todayDiff}</td>\r\n\r\n                  <td style={{ fontWeight: \"700\" }}>\r\n                    â‚¹{item.currentFinalPrice}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* ---------------- PAGINATION ---------------- */}\r\n        <div className=\"pagination\">\r\n          <button\r\n            disabled={currentPage === 1}\r\n            onClick={() => setCurrentPage((p) => p - 1)}\r\n          >\r\n            Previous\r\n          </button>\r\n\r\n          {Array.from({ length: totalPages }).map((_, i) => (\r\n            <button\r\n              key={i}\r\n              className={currentPage === i + 1 ? \"active-page\" : \"\"}\r\n              onClick={() => setCurrentPage(i + 1)}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          ))}\r\n\r\n          <button\r\n            disabled={currentPage === totalPages}\r\n            onClick={() => setCurrentPage((p) => p + 1)}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n"],"mappings":"mJAAA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,OAAO,CAAG,iDAAiD,CACjE,KAAM,CAAAC,YAAY,CAAG,qDAAqD,CAE1E,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACa,aAAa,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}